<xtml ns="gstudio" light="false"><Component id="Main" type="ui.Control">  <xtml t="control.ShowFieldControl">    <Var name="_JBartStudio" t="gstudio.StudioObject"/>    <Field t="control.Layout" ID="studio_top">      <FieldAspect t="async.AsyncActionBeforeLoad" LoadingText="Loading...">        <Action t="object.RunMethod" Object="%$_JBartStudio%" Method="Load"/>      </FieldAspect>      <FieldAspect t="google_drive.StudioDialogScrollbarCss"/>      <FieldAspect t="field_aspect.Css" Class="studio_all"/>      <FieldAspect t="field_aspect.Css" Class="studio"/>      <FieldAspect t="field_aspect.Css" Class="localhost">        <Condition t="gstudio.IsLocalhost"/>      </FieldAspect>      <Field t="control.Layout" ID="studio_for_strong_refresh">        <FieldAspect t="gstudio.StudioVariables"/>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.BeforeRenderingControl"/>          <Action t="action.RunActions">            <Action t="gstudio.EnhanceStudio"/>            <Action t="gstudio_popup.RestorePopupsState"/>          </Action>        </FieldAspect>        <Field t="control.Layout" ID="studio_for_collapse_refresh">          <FieldAspect t="google_drive.StudioCollapseFieldAspect"/>          <Field t="control.Layout" ID="studio_top_area">            <FieldAspect t="bart_dt.ListenToAltC"/>            <FieldAspect t="google_drive.TopAreaFieldAspect"/>            <Field t="control.Layout" ID="studio_top_white_area">              <FieldAspect t="field_feature.Css">                <Css><![CDATA[#this { padding-top: 0px; padding-left: 0px;background:white; } .studio_collapsed #this { display:none !important; }]]></Css>              </FieldAspect>              <Field t="google_drive.ControlToOpenGoogleDrive"/>              <Field t="control.Layout" ID="gstudio_Group5" Title="Group">                <Field t="google_drive.NameAndShareBar" MainItemName="%$_WidgetXml/@name%" RenamePopupTitle="Rename Widget">                  <UploadAction t="gstudio.UploadToGoogleDrive"/>                </Field>                <Layout t="ui.CustomCss" base="layout.Default">                  <Style t="layout.Default"/>                  <Css><![CDATA[#this {  padding: 8px 0 0 15px;}]]></Css>                </Layout>                <Field t="gstudio.MainMenu" Condition="%$_JBartStudio/Type% == 'widget'"/>                <Field t="crawler_studio.MainMenu" Condition="%$_JBartStudio/Type% == 'crawler'"/>                <Field t="instance_editor.MainMenu" Condition="%$_JBartStudio/Type% == 'instance'"/>              </Field>              <Layout t="ui.CustomCss" base="layout.HorizontalCss3">                <Style t="layout.HorizontalCss3" Spacing="0" FullWidth="true"/>                <Css><![CDATA[#this {  width:100\%; }]]></Css>              </Layout>            </Field>            <Field t="gstudio.MainToolbar" Condition="%$_JBartStudio/Type% == 'widget'"/>            <Field t="crawler_studio.MainToolbar" Condition="%$_JBartStudio/Type% == 'crawler'"/>            <Field t="instance_editor.MainToolbar" Condition="%$_JBartStudio/Type% == 'instance'"/>            <Field t="gstudio.Footer" Condition="%$_JBartStudio/Type% == 'widget'"/>            <Field t="gstudio.SaveIndicator"/>          </Field>          <Field t="gstudio.PreviewWrapper"/>        </Field>      </Field>    </Field>  </xtml></Component>  <Component id="StudioWindowWithoutWidget" type="ui.Control">    <xtml t="control.ShowFieldControl">      <Var name="_JBartStudio" t="gstudio.StudioObject" />      <Field t="control.Layout">        <FieldAspect t="field_feature.Css">          <Css><![CDATA[#this { margin: 20px; }]]></Css>        </FieldAspect>        <Field t="control.Button" ID="New" Title="New Widget..." HideTitle="true">            <Action t="gstudio.OpenNewWidgetPopup" />        </Field>        <Field t="control.Button" ID="Open" Title="Browse Widgets..." HideTitle="true">            <FieldAspect t="field_feature.Css">              <Css><![CDATA[#this { margin-top: 10px; }]]></Css>            </FieldAspect>                  <Action t="async.RunAsyncActions">            <Action t="object.RunMethod" Object="%$_JBartStudio%" Method="LoadWidgetList"/>            <Action t="gstudio_select.OpenStudioSelectPopup" ItemDesscription="%@description%" PopupTitle="Open Widget">              <Items value="%$_JBartStudio/WidgetList/*%"/>              <DoOnSelect t="operation.Link" OpenInANewTab="true" Link="?widget=%@id%"/>              <ItemName t="data.Pipeline">                <Item value="%$Folder%%@name%"/>                <Var name="Folder" t="data.IfThenElse">                  <If t="yesno.Contains" AllText="%@id%">                    <Text value="/"/>                  </If>                  <Then t="data.Pipeline">                    <Item t="text.RemoveSuffix" Data="%@id%" Separator="/"/>                    <Item value="%% / "/>                  </Then>                </Var>              </ItemName>            </Action>          </Action>        </Field>      </Field>    </xtml>      </Component>  <Component id="StudioObject" type="data.Data" execution="native" />  <Component id="SaveIndicator" type="field.Fields" hidden="true" dtsupport="false">    <xtml t="notification_box.NotificationBox" ID="GStudio_NotificationBox" Title="NotificationBox">      <Style t="notification_box.Default"/>      <FieldAspect t="field_feature.Css">        <Css><![CDATA[#this {      position:fixed;      top:5px;      left: 40%;    }]]></Css>      </FieldAspect>    </xtml>  </Component><Component id="Footer" type="field.Fields" hidden="true" dtsupport="false">  <xtml t="control.Layout" ID="gstudio_footer" Title="" Condition="%$_JBartStudio/AutoTestsMode% != 'true'">    <Layout t="ui.CustomCss" base="layout.Default">      <Style t="layout.Default"/>      <Css><![CDATA[#this>.field { float:left;}#this {  border-top: 1px solid #aaa;}]]></Css>    </Layout>    <Field t="control.Button" ID="Add" Title="Add Page">      <Style t="btn.ImageOnlyButton"/>      <Image t="gstudio.StudioSmallImage" PositionInSprite="128,16"/>      <FieldAspect t="field_feature.Css">        <Css><![CDATA[#this { margin-top: 10px; margin-right: 17px; margin-left: 17px; }#wrapper { }]]></Css>      </FieldAspect>      <Action t="gstudio.InsertPage"/>    </Field>    <Field t="field.ItemList" Title="pages" ID="pages">      <View t="ui.CustomCss" base="itemlist_style.Simple">        <Style t="itemlist_style.Simple"/>        <Css><![CDATA[#this>.aa_item {float:left;} ]]></Css>      </View>      <FieldAspect t="field_aspect.ItemListContainer">        <Items t="itemlist.Items">          <Items t="data.List">            <Item value="%$_AppContext/AppXtml/../../Component[@type='jbart.MyWidgetPage']%"/>            <Item t="data.Pipeline">              <Item value="%$_JBartStudio/MorePages%"/>              <Item t="text.Split"/>              <Item t="xtml.ComponentDefinition" ID="%%"/>            </Item>          </Items>        </Items>      </FieldAspect>      <FieldAspect t="itemlist_aspect.ItemSelection" KeyboardSupport="true" AlwaysOneSelected="true" MouseSupport="mouse click">        <Css><![CDATA[{}]]></Css>        <SelectedByDefault t="itemlist_aspect.SelectedItemByTextValue">          <Value t="ui.UrlFragment" Attribute="gpage"/>          <ItemValue t="data.IfThenElse" If="%../@ns% == 'sample'" Then="%@id%" Else="%../@ns%.%@id%"/>        </SelectedByDefault>      </FieldAspect>      <Field t="control.Button" ID="studio_page" Title="Page" HideTitle="true" ButtonText="%@id%">        <Style t="ui.CustomCss" base="gstudio.StudioPage">          <Style t="gstudio.StudioPage"/>          <Css><![CDATA[#this {  cursor:pointer;  padding: 10px 10px;  border:1px solid transparent;}#this:hover {}#this:active {}#item.aa_selected #this {  background: #fff;  border:1px solid #ccc;  border-top: 1px solid transparent;}]]></Css>        </Style>        <Action t="gstudio.SwitchPage" AlsoOpenPopups="true">          <PageID t="data.IfThenElse" If="%../@ns% == 'sample'" Then="%@id%" Else="%../@ns%.%@id%"/>        </Action>      </Field>    </Field>    <FieldAspect t="field_feature.Css">      <Css><![CDATA[#this {  position:fixed;  background:#F5F5F5;  padding-right: 7px;  padding-left: 7px;  bottom:0;  left:0;  right:0;}#wrapper {}]]></Css>    </FieldAspect>  </xtml></Component>  <Component id="DataItemMenuButton" type="field.Fields" hidden="true" dtsupport="false">      <Param name="ResourceXtml" Default="%%"/>      <xtml t="control.Button" Title="%$ResourceXtml/@ResourceID%">        <Style t="gstudio.StudioMenuItem"/>        <Action t="bart_dt.ShowDataResource" DataResourceXtml="%$ResourceXtml%"/>      </xtml>    </Component><Component id="PreviewWrapper" type="field.Fields" hidden="true">  <xtml t="control.Layout" ID="gstudio_widget_wrapper" Title="">    <FieldAspect t="field_feature.Css">      <Css><![CDATA[#this {   padding-top: 110px; padding-left: 25px;   border-top: 1px solid #E5E5E5; padding-bottom: 40px;}.studio_collapsed #this {  padding-top: 50px;}]]></Css>    </FieldAspect>    <Field t="control.Button" ID="gstudio_back_from_tests" Title="Back to widget" Condition="%$_JBartStudio/AutoTestsMode%">      <Image t="image.Image" Url="%$_Images%/studio/back1616.png" Width="" Height="">        <ImageProportions t="image.KeepProportions" FillImage="true" CenterImage=""/>      </Image>      <Action t="action.RunActions">        <Action t="object.RunMethod" Method="SetAutoTestsMode" Object="%$_JBartStudio%" Input="false"/>        <Action t="gstudio.StrongRefresh"/>      </Action>      <Style t="ui.CustomCss" base="btn.HyperlinkWithImage">        <Style t="btn.HyperlinkWithImage"/>        <Css><![CDATA[.hypelink_text { font-family:"lucida grande",tahoma,verdana,arial,sans-serif;   color:#333; font-size: 11px; padding-left: 3px; margin-top: 1px;   text-decoration: none; display: inline-block; vertical-align:top; }#this:hover .hypelink_text { text-decoration:underline; }.hypelink_img { padding-right: 6px; padding-bottom: 2px; display: inline-block;   vertical-align:middle; }#this:active .hypelink_img { opacity:0.6; }#this { cursor:pointer; }#this.disabled { cursor: default; }#this.disabled .hypelink_text { text-decoration:none; }#this.disabled .hypelink_img { opacity: 1; }]]></Css>      </Style>      <FieldAspect t="field_feature.Css">        <Css><![CDATA[#this { }#wrapper { margin-bottom: 4px; }]]></Css>      </FieldAspect>    </Field>    <Field t="control.Button" ID="gstudio_new_pages_convert" Title="Convert to new pages">      <Condition t="yesno.NotEmpty" Value="%$_AppContext/AppXtml/Pages/Page/@t%"/>      <Action t="action.RunActions">        <Action t="gstudio.ConvertToNewPages"/>        <Action t="gstudio.StrongRefresh"/>      </Action>      <Style t="btn.HyperlinkWithImage"/>      <FieldAspect t="field_feature.Css">        <Css><![CDATA[#this { }#wrapper { margin-bottom: 4px; }]]></Css>      </FieldAspect>    </Field>    <Field t="control.Layout" Title="Preview and settings">      <Layout t="layout.HorizontalCss3" Spacing="40"/>    <Field t="gstudio.InplaceSettings" />    <Field t="control.Layout" Title="">      <FieldAspect t="object.RunMethod" Method="Run">        <Object t="xtml.RunXtml">          <Xtml t="data.Pipeline">            <Item t="gstudio.CurrentPageXtml" />            <Item value="%FieldAspect[@t = 'field_aspect.PagePreviewSize']%" />          </Xtml>        </Object>      </FieldAspect>    <Field t="control.Layout" Title="">      <Field t="gstudio.AutoTests" Condition="%$_JBartStudio/AutoTestsMode%"/>      <Field t="gstudio.WidgetPreview" Condition="%$_JBartStudio/AutoTestsMode% != 'true'"/>      <FieldAspect t="field_feature.Css">        <Condition t="yesno.IsEmpty">          <Value t="data.Pipeline">            <Item t="gstudio.CurrentPageXtml" />            <Item value="%FieldAspect[@t = 'field_aspect.PagePreviewSize']%" />          </Value>        </Condition>        <Css><![CDATA[#this {   background-color:#fff; border:1px solid #DADADA;   display: inline-block;   padding:20px;box-shadow: 0 0px 9px #ccc;  min-width:200px;  min-height:100px;  position: relative;}]]></Css>      </FieldAspect>      <FieldAspect t="gstudio.PagePreviewWrapper"/>      <Layout t="layout.Default"/>    </Field>    </Field>  </Field>    <Layout t="layout.Default"/>      </xtml></Component><Component id="CurrentPageHasPreviewSize" type="data.Boolean" >  <xtml name="IsMobileInStudio" t="yesno.NotEmpty" >    <Value t="data.Pipeline">      <Item value="%$_JBartStudio/CurrentPage%" />      <Item value="%$_AppContext/AppXtml/../../Component[#{}]/xtml/FieldAspect[@t = 'field_aspect.PagePreviewDevice']%" />    </Value>  </xtml></Component>  <Component id="WidgetPreview" type="field.Fields" hidden="true" execution="native" />    <Component id="StudioVariables" type="field.FieldAspect" hidden="true" execution="native">    <Param name="LoadingText" Default="Loading Widget..." />    <Param name="LoadingStyle" type="loading_style.Style">      <Default t="loading_style.Default"/>    </Param>        <Param name="TextForError" Default="An error has occurred" />  </Component>  <Component id="SwitchPage" type="action.Action" hidden="true">    <Param name="PageID" />    <Param name="AlsoOpenPopups" type="data.Boolean" Default="true" />    <xtml t="action.RunActions">      <Action t="object.SetTextProperty" Object="%$_JBartStudio%" Property="CurrentPage" Value="%$PageID%" />      <Action t="uiaction.SetUrlFragment" Attribute="gpage" Value="%$PageID%" />      <Action t="gstudio.RefreshFooter" />      <Action t="field.RefreshField" FieldID="gstudio_widget_wrapper" Scope="screen" />      <Action t="action.RunActions" Condition="%$AlsoOpenPopups%" >        <Action t="gstudio.SetSelectedFieldXtml">          <FieldXtml t="gstudio.CurrentPageXtml" />        </Action>        <Action t="gstudio_popup.ShowOutline" />        <Action t="gstudio_popup.ShowProperties" />      </Action>    </xtml>  </Component>  <Component id="Save" type="action.Action" hidden="true">    <Param name="AlsoDeploy" type="data.Boolean" />    <xtml t="async.RunAsyncActions">      <Action t="notification_box.ShowNotification" NotificationBox="GStudio_NotificationBox" Text="Saving..." Duration="2000" Status="saving" />      <Action t="gstudio.AutoSaveResourcesFromRunningData" />      <Action t="object.RunMethod" Method="Save">        <Object t="xtml_dt_tree.SaveManager"/>      </Action>      <Action t="object.RunMethod" Object="%$_JBartStudio%" Method="Save"/>      <Action t="data.JavaScript">        <Code><![CDATA[function(data,html_elem,context) {      aa_trigger(window,'StudioSave',{});     }]]></Code>      </Action>      <Action t="notification_box.ShowNotification" NotificationBox="GStudio_NotificationBox" Text="Widget Saved" Duration="2000" Status="saved" />      <Action t="action.IfThenElse" Condition="%$AlsoDeploy%">        <If t="object.HasMethod" Object="%$_JBartStudio%" Method="CustomDeploy" />        <Then t="object.RunMethod" Object="%$_JBartStudio%" Method="CustomDeploy" />        <Else t="action.RunActions">          <Var name="WidgetId" t="text.Split" Separator="/" Text="%$_WidgetXml/@id%" Part="Last"/>          <Data value="%$_WidgetXml%" />          <Action t="notification_box.ShowNotification" NotificationBox="GStudio_NotificationBox" Text="Deploying..." Duration="2000" Status="saving" />          <Action t="async.RunOnNextTimer" UniqueActionID="compress">            <Action t="bart_dt.SaveWidgetCompressedJBart">              <OnSuccess t="notification_box.ShowNotification" NotificationBox="GStudio_NotificationBox" Text="Widget Deployed and Saved" Duration="2000" Status="saved" />            </Action>          </Action>        </Else>      </Action>    </xtml>  </Component>  <Component id="AutoTests" type="field.Fields" hidden="true">      <xtml t="control.Layout">        <Field t="field_control.CustomXtmlControl" ID="Control" Title="Control">          <Control t="bart_dt.EditXtmlTests" Data="%$_JBartStudio/WidgetXml/!Tests%" IsGallery="true"/>        </Field>      </xtml>    </Component>  <Component id="StrongRefresh" type="action.Action" >        <xtml t="field.RefreshField" FieldID="studio_for_strong_refresh"/>  </Component>  <Component id="Refresh" type="action.Action" >        <xtml t="action.RunActions">      <Action t="field.RefreshField" FieldID="gstudio_widget_wrapper"/>      <Action t="popup.CheckFloatingPopupsCloseCondition" />    </xtml>  </Component>  <Component id="RefreshFooter" type="action.Action" >        <xtml t="field.RefreshField" FieldID="gstudio_footer"/>  </Component>   <Component id="ConvertToNewPages" type="action.Action">     <xtml t="action.RunActions">       <Action t="action.RunActionOnItems" Items="%$_AppContext/AppXtml/Pages/Page%">         <Action t="xml.AddXmlChildren" Parent="%$_AppContext/AppXtml/../..%">           <Var name="Page" />           <Children t="xml.WithChanges">             <Xml t="xml.Xml" DynamicContent="true">               <Component id="%@ID%" type="jbart.MyWidgetPage">                 <xtml />               </Component>             </Xml>             <Change t="xml.ReplaceElement" Element="%xtml%" NewElement="%$Page%" />           </Children>         </Action>       </Action>       <Action t="xml.Delete" Data="%$_AppContext/AppXtml/Pages%" />       <Action t="xtml.LoadComponents" Components="%$_AppContext/AppXtml/../../Component%" Namespace="%$_AppContext/AppXtml/../../@id%" ClearNSBefore="true" />       <Action t="action.WriteValue" To="%$_AppContext/AppXtml/!MainPage1/@t%" Value="%$_AppContext/AppXtml/../../@id%.%$_AppContext/AppXtml/@MainPage%" />     </xtml>    </Component>   <Component id="EnhanceStudio" type="action.Action" hidden="true">    <xtml t="action.RunActions">      <Action t="object.SetProperty" Object="%$_JBartStudio%" Property="MainMenuButtons" />      <Action t="action.RunActionOnItems">        <Items t="data.Pipeline">          <Var name="PluginDef" t="plugins.PluginDefinitions" />          <Item t="text.Split" Data="%$_WidgetXml/@plugins%" Separator="," />          <Item value="%$PluginDef/plugin[@id='{}']/@enhanceGStudio%"/>        </Items>        <Action t="xtml.RunXtmlByComponentId" ComponentID="%%" />      </Action>      <Action t="xtml.RunXtml" Xtml="%$_WidgetXml/EnhanceGStudio%" Condition="%$_WidgetXml/EnhanceGStudio/@t% != ''" />    </xtml>   </Component><Component id="StudioToolbarLine" type="line.Style">  <xtml t="ui.CustomStyle">    <Css><![CDATA[#this {  margin-top:-3px;  height:32px;  margin-right:2px;  border-right:1px solid #E5E5E5;}]]></Css>    <Html><![CDATA[<div />      ]]></Html>    <Javascript><![CDATA[function(line) { } ]]></Javascript>  </xtml></Component>      <Component id="SetSelectedFieldXtml" type="action.Action" execution="native">    <Param name="FieldXtml" Default="%%" />  </Component>  <Component id="CssSelectorOptions" type="data.Data" execution="native" />    <Component id="ChangeCurrentSelectedCss" type="action.Action" execution="native">    <Param name="ChangeCssXml" type="action.Action" script="true" />  </Component>  <Component id="ToggleTopCss" type="action.Action" execution="native">    <Param name="Css" />    <Param name="ShowCondition" type="data.Boolean" Default="true" />  </Component>  <Component id="AutoSaveResourcesFromRunningData" type="action.Action">    <xtml t="action.RunActionOnItems">      <Items t="data.Pipeline">        <Item value="%$_AppContext/AppXtml/DataResource[@AutoSaveSampleData='true']%" />              </Items>      <Action t="xml.ReplaceXmlChildren" Parent="%Value%" CloneChildren="true">        <Children t="data.VariableValue" Variable="%@ResourceID%" />      </Action>    </xtml>  </Component><Component id="IsLocalhost" type="data.Boolean">  <xtml t="yesno.Contains">    <AllText t="data.Url"/>    <Text value="//localhost"/>  </xtml></Component><Component id="IsInternal" type="data.Boolean">  <xtml t="yesno.Contains">    <AllText t="data.Url"/>    <Text value="/ajaxart"/>  </xtml></Component><Component id="ShareWidget" type="action.Action">  <Param name="Server"/>  <xtml t="action.RunActions">    <Action t="notification_box.ShowNotification" NotificationBox="GStudio_NotificationBox" Text="Sharing Widget ..." Status="saving"/>    <Action t="jbart_studio.SaveWidgetJSToJBartDB" Server="%$Server%">      <Var name="ID" t="text.Replace" Text="%$_WidgetXml/@id%" Find="/" ReplaceWith="_"/>      <OnSuccess t="jbartdb.SaveFileToJBartDB" Server="%$Server%" ID="%$ID%.html">        <Var name="ID" t="text.Replace" Text="%$_WidgetXml/@id%" Find="/" ReplaceWith="_"/>        <Content t="xml.CData" DynamicContent="true"><![CDATA[    <!DOCTYPE html>    <head>      <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>    </head>    <body>      <div id="placeholder"></div>      <script type="text/javascript" src="%$Server%/file/widget_%$ID%.js"></script>      <script type="text/javascript">        var page = window.location.href.match(/page=([a-zA-Z0-9]+)/) && window.location.href.match(/page=([a-zA-Z0-9]+)/)[1];        if (!window.location.href.match(/margins=true/))          $("body").css("margin","0");        jBartWidgets.%$ID%.show(document.getElementById('placeholder'),{ page: page } );      </script>    </body>     ]]>        </Content>        <OnSuccess t="action.RunActions">          <Action t="uiaction.GoToPage" Url="%$Server%/file/%$ID%.html"/>          <Action t="notification_box.ShowNotification" NotificationBox="GStudio_NotificationBox" Text="Widget shared" Status="saved"/>        </OnSuccess>      </OnSuccess>    </Action>  </xtml></Component>  <Component id="StudioFloatingPopupFeatures" type="popup.Feature">    <Param name="Identifier" />    <Param name="FieldIdsToRefreshWhenOpenOrClosed" />    <Param name="Location" type="popup.Location"/>    <Param name="Xtml" />    <xtml t="popup.Features">      <Feature t="popup.FloatingPopup" Identifier="%$Identifier%" AutoBringToFront="true" FieldIdsToRefreshWhenOpenOrClosed="%$FieldIdsToRefreshWhenOpenOrClosed%" Location="%$Location%">        <CloseCondition t="yesno.And">          <Item t="yesno.NotEmpty" Value="%$Xtml%" />          <Item t="yesno.Not">            <Of t="gstudio_popup.IsXtmlAttached" Xtml="%$Xtml%" />          </Item>        </CloseCondition>      </Feature>      <Feature t="popup.StudioPopupFeature" />    </xtml>  </Component>  <Component id="StudioSmallImage" type="img.Image" light="false">    <Param name="PositionInSprite" Default="0,0"/>    <xtml t="img.ImageInSprite" Url="%$_Images%/studio/studio_icons.png?ver=28_09_14_2" PositionInSprite="%$PositionInSprite%" Width="16" Height="16"/>  </Component>  <Component id="SelectedFieldXtml" type="data.Data" execution="native" />    <Component id="EditScriptXtml" type="action.Action">    <xtml t="gstudio.OpenStudioCodeMirrorPopup" PopupTitle="Xtml Source of %$_JBartStudio/SelectedFieldXtml/@Title%">      <XmlToEdit t="gstudio.SelectedFieldXtml" />      <OnUpdate t="action.RunActions">        <Action t="bart_dt.EditXtmlInStudioBar" RefreshPreview="true">          <Xtml t="gstudio.SelectedFieldXtml" />        </Action>        <Action t="object.RunMethod" Method="MarkAsModified">          <Input t="gstudio.SelectedFieldXtml" />          <Object t="xtml_dt_tree.SaveManager" />        </Action>      </OnUpdate>    </xtml>  </Component>  <Component id="EditScriptXtmlInAAEditor" type="action.Action">    <xtml t="gstudio_popup.ShowAAEditorFloatingPopup">      <Xtml t="gstudio.SelectedFieldXtml" />    </xtml>  </Component>    <Component id="UploadToGoogleDrive" type="action.Action" execution="native" />  <Component id="TreePathOfSelected" type="data.Data" execution="native" />  <Component id="PagePreviewWrapper" type="field.FieldAspect" execution="native" light="false"/>  <Component id="AutoRefreshOnSettingsChange" type="action.Action" execution="native">    <Param name="Settings" Default="%$Settings%" />    <Param name="Styles" Default="%$Styles%"/>    <Param name="RefreshAction" type="action.Action" />  </Component>  <Component id="InplaceSettings" type="field.Fields" light="false">    <xtml t="control.Layout">      <Condition t="yesno.And" >        <Item value="%$_JBartStudio/CurrentPage% == 'main'" />        <Item t="yesno.NotEmpty" Value="%$_AppContext/AppXtml/../../Component[#main]/xtml/FieldAspect[@t = 'field_aspect.PagePreviewShowSettings']%" />      </Condition>      <FieldAspect t="field_feature.HandleEvent">        <Event t="field_feature.ControlAttached"/>        <Action t="gstudio.AutoRefreshOnSettingsChange" Settings="%$Settings%" >          <RefreshAction t="action.IfThenElse">            <If t="object.HasMethod" Object="%$_JBartStudio%" Method="RefreshPreviewFromSettings" />            <Then t="object.RunMethod" Object="%$_JBartStudio%" Method="RefreshPreviewFromSettings" />            <Else t="field.RefreshField" FieldID="main" />          </RefreshAction>        </Action>      </FieldAspect>                          <Field t="sample.Settings" />    </xtml>    </Component>  <Component id="CurrentPageXtml" type="data.Data">    <xtml t="data.Pipeline">      <Item value="%$_JBartStudio/CurrentPage%" />      <Item t="xtml.ComponentDefinition" ToXtml="true" >        <ID t="data.IfThenElse" Then="%%" Else="sample.%%">          <If t="yesno.Contains">            <Text value="." />          </If>                  </ID>      </Item>    </xtml>  </Component></xtml>