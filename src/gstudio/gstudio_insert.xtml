<xtml package="true"><xtml ns="gstudio" light="false"><Component id="MainMenu_Insert_Contents" type="field.Fields" dtsupport="true">  <xtml t="field.InnerPage" Title="Insert">    <Layout t="layout.Default"/>    <Field t="control.Button" ID="gstudio_insert_control" Title="Insert Field">      <Style t="gstudio.StudioCascadingMenuItem"/>      <Image t="gstudio.StudioSmallImage" PositionInSprite="80,16"/>      <FieldAspect t="popup_field_aspect.CascadingMenuPopup">        <PopupStyle t="gstudio.StudioCascadingMenuStyle"/>        <Contents t="field.InnerPage" Title="Insert">          <Field t="gstudio.InsertFieldFields"/>        </Contents>      </FieldAspect>    </Field>    <Field t="control.Button" ID="gstudio_insert_control" Title="Insert Control">      <Style t="gstudio.StudioCascadingMenuItem"/>      <Image t="gstudio.StudioSmallImage" PositionInSprite="64,16"/>      <FieldAspect t="popup_field_aspect.CascadingMenuPopup">        <PopupStyle t="gstudio.StudioCascadingMenuStyle"/>        <Contents t="field.InnerPage" Title="Insert">          <Field t="gstudio.InsertControlFields"/>        </Contents>      </FieldAspect>    </Field>    <Field t="control.Button" ID="gstudio_insert_group" Title="Insert Group">      <Image t="gstudio.StudioSmallImage" PositionInSprite="96,16"/>      <Style t="gstudio.StudioCascadingMenuItem"/>      <FieldAspect t="popup_field_aspect.CascadingMenuPopup">        <PopupStyle t="gstudio.StudioCascadingMenuStyle"/>        <Contents t="field.InnerPage" Title="Insert">          <Field t="gstudio.InsertGroupFields"/>        </Contents>      </FieldAspect>    </Field>    <Field t="control.Button" ID="gstudio_insert_group" Title="Insert Control From Data">      <Image t="gstudio.StudioSmallImage" PositionInSprite="144,16"/>      <Style t="gstudio.StudioCascadingMenuItem"/>      <FieldAspect t="popup_field_aspect.CascadingMenuPopup">        <PopupStyle t="gstudio.StudioCascadingMenuStyle"/>        <Contents t="field.InnerPage" Title="Insert">          <Field t="gstudio.InsertFieldsFromSampleData"/>        </Contents>      </FieldAspect>    </Field>    <Field t="control.Button" ID="gstudio_insert_group" Title="Insert Field From Data">      <Image t="gstudio.StudioSmallImage" PositionInSprite="160,16"/>      <Style t="gstudio.StudioCascadingMenuItem"/>      <FieldAspect t="popup_field_aspect.CascadingMenuPopup">        <PopupStyle t="gstudio.StudioCascadingMenuStyle"/>        <Contents t="field.InnerPage" Title="Insert">          <Field t="gstudio.InsertFieldsFromSampleData" AsWritableField="true"/>        </Contents>      </FieldAspect>    </Field>    <Field t="control.Button" ID="gstudio_insert_group" Title="Insert Item List">      <Image t="gstudio.StudioSmallImage" PositionInSprite="112,16"/>      <Style t="gstudio.StudioCascadingMenuItem"/>      <FieldAspect t="popup_field_aspect.CascadingMenuPopup">        <PopupStyle t="gstudio.StudioCascadingMenuStyle"/>        <Contents t="field.InnerPage" Title="Insert">          <Field t="gstudio.InsertItemlistFields"/>        </Contents>      </FieldAspect>    </Field>    <Field t="control.SeparatingLine" ID="_SeparatingLine" Title="SeparatingLine">      <Style t="gstudio.StudioMenuSeparator"/>    </Field>    <Field t="control.Button" ID="gstudio_toolbar_add_control_more" Title="New Page...">      <Style t="gstudio.StudioMenuItem"/>      <Action t="gstudio.InsertPage"/>    </Field>    <Field t="control.Button" ID="gstudio_toolbar_add_control_more" Title="New Component...">      <Style t="gstudio.StudioMenuItem"/>      <Action t="gstudio.AddANewComponent"/>    </Field>    <Field t="control.Button" ID="gstudio_toolbar_add_control_more1" Title="New from xtml...">      <Style t="gstudio.StudioMenuItem"/>      <Action t="xmlui.ShowXmlDialog" Title="Add field/control from xtml">        <Xml t="xml.Xml">          <Field t="control.Label" />        </Xml>        <OnUpdate t="gstudio_insert.AddFieldByXtml" AlsoSelect="true">          <NewFieldXtml t="xml.TextToXml" />        </OnUpdate>      </Action>    </Field>  </xtml></Component>  <Component id="MainMenu_Insert" type="field.Fields" dtsupport="true">      <xtml t="control.Button" ID="gmenu_Insert" Title="Insert">        <Style t="google_drive.StudioMainMenuButton"/>        <FieldAspect t="popup_field_aspect.ToolbarPopup" ToolbarID="studio_mainmenu">          <PopupStyle t="google_drive.StudioMenuStyle"/>          <Contents t="gstudio.MainMenu_Insert_Contents" />        </FieldAspect>      </xtml>    </Component>  <Component id="InsertFieldFields" type="field.Fields" dtsupport="true">      <xtml t="control.Layout">        <Field t="control.Button" ID="gstudio_toolbar_add_field_2" Title="New Fields...">          <Style t="gstudio.StudioButtonInToolarMenuPopup"/>          <Action t="gstudio_insert.OpenAddFieldsPopup"/>        </Field>        <Field t="control.SeparatingLine" ID="_SeparatingLine" Title="SeparatingLine">          <Style t="gstudio.StudioMenuSeparator"/>        </Field>        <Field t="gstudio_insert.FieldToAddControl" Title="Calculated field" PT="fld.CalculatedField"/>        <Field t="gstudio_insert.FieldToAddControl" Title="Fields from metadata (Dynamic Fields)" PT="field.DynamicFields"/>      </xtml>    </Component>  <Component id="InsertControlFields" type="field.Fields" dtsupport="true">    <xtml t="control.Layout">      <Field t="gstudio_insert.FieldToAddControl" Title="Label" PT="control.Label"/>      <Field t="gstudio_insert.FieldToAddControl" Title="Button" PT="control.Button"/>      <Field t="gstudio_insert.FieldToAddControl" Title="Image" PT="field.Image"/>      <Field t="gstudio_insert.FieldToAddControl" Title="Custom control" PT="control.CustomControl"/>      <Field t="gstudio_insert.FieldToAddControl" Title="Link to page" PT="control.Page"/>      <Field t="gstudio_insert.FieldToAddControl" Title="Separator" PT="control.SeparatingLine"/>      <Field t="control.Button" ID="gstudio_toolbar_add_control_more" Title="More...">        <Style t="gstudio.StudioButtonInToolarMenuPopup"/>        <Action t="gstudio_select.OpenStudioSelectPopup" PopupTitle="Insert Control" ItemName="%@id%" ItemDesscription="%@description%">          <Items t="data.Pipeline">            <Item t="aaeditor.ComponentsOfTypeNew" Type="field.Fields" LightOnly="true"/>            <Item value="%Definition%"/>          </Items>          <DoOnSelect t="gstudio_insert.AddFieldByPT" Title="%@id%" PT="%../@ns%.%@id%" />        </Action>      </Field>                    </xtml>  </Component>  <Component id="InsertGroupFields" type="field.Fields" dtsupport="true">    <xtml t="control.Layout">        <Field t="field.Fields">          <Var name="SelectedTag" t="data.Pipeline">            <Item t="gstudio.SelectedFieldXtml" />            <Item t="xml.Tag"/>          </Var>          <Condition value="%$SelectedTag% == 'Field'" />          <Field t="control.Button" Title="Wrap with a group">            <Style t="gstudio.StudioButtonInToolarMenuPopup"/>            <Action t="gstudio_insert.WrapWithGroup"/>          </Field>          <Field t="control.SeparatingLine" ID="_SeparatingLine" Title="SeparatingLine">            <Style t="gstudio.StudioMenuSeparator"/>          </Field>        </Field>        <Field t="gstudio_insert.FieldToAddLayout" Title="Vertical Layout" PT="layout.Vertical"/>        <Field t="gstudio_insert.FieldToAddLayout" Title="Horizontal Layout" PT="layout.Horizontal"/>        <Field t="gstudio_insert.FieldToAddControl" Title="Property Sheet" PT="control.PropertySheet"/>        <Field t="gstudio_insert.FieldToAddControl" Title="Tab Control" PT="control.TabControl"/>        <Field t="gstudio_insert.FieldToAddControl" Title="Accordion" PT="control.TabControl" StylePT="tabs.Accordion"/>        <Field t="gstudio_insert.FieldToAddControl" Title="Section" PT="control.Section"/>    </xtml>  </Component>  <Component id="InsertItemlistFields" type="field.Fields" dtsupport="true">    <xtml t="control.Layout">      <Field t="control.Button" ID="gstudio_toolbar_insert_writable_table" Title="Writable Table">        <Style t="gstudio.StudioButtonInToolarMenuPopup"/>        <Action t="gstudio_insert.InsertWritableTable"/>      </Field>      <Field t="control.Button" ID="gstudio_toolbar_insert_writable_table" Title="Read Only Table">        <Style t="gstudio.StudioButtonInToolarMenuPopup"/>        <Action t="gstudio_insert.InsertReadOnlyTable"/>      </Field>      <Field t="control.Button" ID="gstudio_toolbar_insert_simple_list" Title="Simple Blank List">        <Style t="gstudio.StudioButtonInToolarMenuPopup"/>        <Action t="gstudio_insert.InsertSimpleBlank"/>      </Field>      <Field t="control.Button" ID="gstudio_toolbar_insert_simple_list" Title="Simple Decorated List">        <Style t="gstudio.StudioButtonInToolarMenuPopup"/>        <Action t="gstudio_insert.InsertSimpleList"/>      </Field>    </xtml>  </Component>	<Component id="AddFieldsInToolbar" type="field.Fields" dtsupport="true">      <xtml t="control.Layout" ID="gstudio_toolbar_insert" Title="Insert">        <Layout t="layout.Default"/>        <Field t="control.Button" ID="gstudio_toolbar_insert" Title="Insert">          <Style t="google_drive.StudioToolbarIcon"/>          <Image t="gstudio.StudioSmallImage" PositionInSprite="176,16"/>          <FieldAspect t="popup_field_aspect.ToolbarPopup" ToolbarID="studio_toolbar_insert">            <PopupStyle t="gstudio.StudioToolbarMenuPopup"/>            <Contents t="gstudio.MainMenu_Insert_Contents"/>          </FieldAspect>        </Field>        <Field t="control.Button" ID="gstudio_toolbar_add_field" Title="Insert Field">          <Style t="google_drive.StudioToolbarIcon"/>          <Image t="gstudio.StudioSmallImage" PositionInSprite="80,16"/>          <FieldAspect t="popup_field_aspect.ToolbarPopup" ToolbarID="studio_toolbar_insert">            <PopupStyle t="gstudio.StudioToolbarMenuPopup"/>            <Contents t="field.InnerPage">              <Field t="control.Layout">                <Field t="gstudio.InsertFieldFields"/>              </Field>            </Contents>          </FieldAspect>        </Field>        <Field t="control.Button" ID="gstudio_toolbar_add_control" Title="Insert Control">          <Style t="google_drive.StudioToolbarIcon"/>          <Image t="gstudio.StudioSmallImage" PositionInSprite="64,16"/>          <FieldAspect t="popup_field_aspect.ToolbarPopup" ToolbarID="studio_toolbar_insert">            <PopupStyle t="gstudio.StudioToolbarMenuPopup"/>            <Contents t="field.InnerPage">              <Field t="gstudio.InsertControlFields"/>            </Contents>          </FieldAspect>        </Field>        <Field t="control.Button" ID="gstudio_toolbar_add_control" Title="Insert Group">          <Style t="google_drive.StudioToolbarIcon"/>          <Image t="gstudio.StudioSmallImage" PositionInSprite="96,16"/>          <FieldAspect t="popup_field_aspect.ToolbarPopup" ToolbarID="studio_toolbar_insert">            <PopupStyle t="gstudio.StudioToolbarMenuPopup"/>            <Contents t="field.InnerPage">              <Field t="gstudio.InsertGroupFields"/>            </Contents>          </FieldAspect>        </Field>        <Field1 t="control.Button" ID="gstudio_toolbar_add_control_from_data" Title="Insert Control From Data">          <Style t="google_drive.StudioToolbarIcon"/>          <Image t="gstudio.StudioSmallImage" PositionInSprite="144,16"/>          <FieldAspect t="popup_field_aspect.ToolbarPopup" ToolbarID="studio_toolbar_insert">            <PopupStyle t="gstudio.StudioToolbarMenuPopup"/>            <Contents t="field.InnerPage">              <Field t="gstudio.InsertFieldsFromSampleData"/>            </Contents>          </FieldAspect>        </Field1>        <Field1 t="control.Button" ID="gstudio_toolbar_add_control_from_data" Title="Insert Field From Data">          <Style t="google_drive.StudioToolbarIcon"/>          <Image t="gstudio.StudioSmallImage" PositionInSprite="160,16"/>          <FieldAspect t="popup_field_aspect.ToolbarPopup" ToolbarID="studio_toolbar_insert">            <PopupStyle t="gstudio.StudioToolbarMenuPopup"/>            <Contents t="field.InnerPage">              <Field t="gstudio.InsertFieldsFromSampleData" AsWritableField="true"/>            </Contents>          </FieldAspect>        </Field1>        <Field1 t="control.Button" ID="gstudio_toolbar_add_control" Title="Insert Item List">          <Style t="google_drive.StudioToolbarIcon"/>          <Image t="gstudio.StudioSmallImage" PositionInSprite="112,16"/>          <FieldAspect t="popup_field_aspect.ToolbarPopup" ToolbarID="studio_toolbar_insert">            <PopupStyle t="gstudio.StudioToolbarMenuPopup"/>            <Contents t="field.InnerPage">              <Field t="gstudio.InsertItemlistFields"/>            </Contents>          </FieldAspect>        </Field1>      </xtml>    </Component>  <Component id="AddANewComponent" type="action.Action">      <xtml t="popup.OpenPopup" PopupTitle="Add Component">        <Style t="gstudio.GoogleDrivePopup"/>        <Data t="xml.ByTag" Tag="Component"/>        <Contents t="field.InnerPage" Title="Add Component">          <Layout t="layout.Default"/>          <Field t="control.PropertySheet" ID="_Property_Sheet" Title="Property Sheet">            <Style t="properties.Default" PropertiesWidth="100px"/>            <Field t="fld.Field" FieldData="%!@id%" ID="name" Title="Name" name="" type="data.Data">              <FieldType t="fld_type.EditableText">                <Style t="editable_text.JBartTextbox" Width="158px"/>              </FieldType>              <FieldAspect t="field_aspect.Mandatory"/>              <FieldAspect t="field_feature.HandleEvent">                <Event t="field_feature.EnterPressed"/>                <Action t="operation.ClickOnButton" Button="_Create_Conponent"/>              </FieldAspect>            </Field>            <Field t="fld.Field" FieldData="%!@type%" ID="type" Title="Type">              <FieldType t="fld_type.Picklist" AllowEmptyValue="" AllowValueNotInOptions="">                <Options t="editable_picklist.DynamicOptions">                  <Options t="xtml.AllTypes"/>                </Options>                <Style t="editable_picklist.JBartPicklist" Width="150px"/>              </FieldType>              <FieldAspect t="field_aspect.DefaultValue" Value="data.Data"/>              <FieldAspect t="field_aspect.Mandatory"/>            </Field>          </Field>          <Field t="control.Layout" ID="_Horizontal_Layout" Title="Horizontal Layout">            <Layout t="layout.HorizontalHtmlTable" Spacing="0" VerticalAlign="top"/>            <Field t="control.Button" ID="_Create_Conponent" Title="Create" HideTitle="true">              <Style t="btn.JBart"/>              <Action t="popup.CloseContainingPopup" ExitMode="OK">                <DoOnExit t="action.RunActions">                  <Var name="PT" t="data.Switch" Value="%@type%">                    <Case If="data.Data" Then="data.Pipeline" />                    <Case If="ui.Control" Then="ui.Section" />                    <Case If="action.Action" Then="action.RunActions" />                    <Case If="field.Fields" Then="control.Layout" />                    <Default t="data.Pipeline">                      <Item t="xtml.ComponentsOfType" Type="%@type%" AlsoHidden="false" />                      <Aggregator t="data.First" />                    </Default>                  </Var>                  <Action t="xml.AddXmlChildren" Parent="%%">                      <Children t="xml.Xml" DynamicContent="true">                         <xtml t="%$PT%" />                      </Children>                  </Action>                  <Action t="xml.AddXmlChildren" Parent="%$_AppContext/AppXtml/../..%" Children="%%" CloneChildren="false" AddAsFirst="">                  <DoOnAddedChildren t="action.RunActions">                    <Action t="aaeditor.ClearCaches" />                    <Action t="xtml.LoadComponents" Namespace="sample" Components="%%" />                    <Action t="gstudio_popup.ShowAAEditorFloatingPopup" Xtml="%xtml%" />                  </DoOnAddedChildren>                </Action>                </DoOnExit>              </Action>            </Field>            <FieldAspect t="field_feature.Css">              <Css><![CDATA[#this { padding-top: 18px; }]]></Css>            </FieldAspect>          </Field>        </Contents>      </xtml>    </Component><Component id="InsertPage" type="action.Action">  <xtml t="popup.OpenPopup" PopupTitle="Insert page">  <Contents t="field.InnerPage" Title="Insert page">    <Layout t="layout.Default"/>    <Field t="control.Layout" ID="Dialog_Data" Title="Dialog Data">      <Layout t="layout.Vertical" Spacing="0"/>      <Field t="control.Label" ID="Label" Title="Label" Text="Enter a new page name:">        <Style t="ui.CustomCss" base="uitext.PlainText">          <Style t="uitext.PlainText"/>          <Css><![CDATA[#this { font-family:Arial, Helvetica; font-size: 13px; padding-top: 2px; }]]></Css>        </Style>      </Field>      <Field t="fld.Field" FieldData="%%" ID="newname" Title="Newname">        <FieldType t="fld_type.EditableText">          <Style t="ui.CustomCss" base="editable_text.JBartTextbox">            <Style t="editable_text.JBartTextbox"/>            <Css><![CDATA[#this {  background:url(images/css/shadow2.png) repeat-x scroll 0 0 transparent;  font-size: 13px;  width: 259px;  height: 16px;  padding-top: 3px;  padding-right: 3px;  padding-bottom: 3px;  padding-left: 3px;  margin-top: 15px;  border: 1px solid #BDC7D8;}#this:focus {  box-shadow:  inset 0 1px 1px 0px rgba(0, 0, 0, 0.075),  0 0 8px 0px rgba(82, 168, 236, 0.6);  border-color: rgba(82, 168, 236, 0.8);  outline: 0;  outline: thin dotted 9;}#this.placeholder {  color:#8B8B8B;}#this.aa_error {  background: #fbebeb;   border: 1px solid #feb2b2;   color: #ec643d !important;  }]]></Css>          </Style>        </FieldType>        <FieldAspect t="field_aspect.Mandatory" ErrorMessage="Please provide a page name"/>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.EnterPressed"/>          <Action t="operation.ClickOnButton" Button="gstudio_rename_OK"/>        </FieldAspect>      </Field>      <Field t="control.Layout" ID="Horizontal" Title="Buttons">        <Layout t="layout.HorizontalHtmlTable" Spacing="10px"/>        <Field t="control.Button" ID="gstudio_rename_OK" Title="OK" HideTitle="true">          <Style t="btn.JBart"/>          <Action t="popup.CloseContainingPopup" ExitMode="OK">            <DoOnExit t="action.RunActions">              <Action t="action.WriteValue" To="%%">                <Value t="text.Capitalize" Mode="separate words to capital"/>              </Action>              <Action t="action.RunActions">                <Var name="NewPage" t="xml.Xml" DynamicContent="true" >                  <Component id="%%" type="jbart.MyWidgetPage">                    <xtml t="control.Layout" ID="%%" Title="%%" />                  </Component>                </Var>                <Action t="xml.AddXmlChildren" Parent="%$_AppContext/AppXtml/../..%" Children="%$NewPage%" />                <Action t="gstudio.StrongRefresh"/>                <Action t="gstudio.SwitchPage" PageID="%%" />              </Action>            </DoOnExit>          </Action>        </Field>        <Field t="control.Button" ID="Cancel" Title="Cancel">          <Style t="btn.JBartGrey"/>          <Action t="popup.CloseContainingPopup"/>        </Field>        <FieldAspect t="field_feature.Css">          <Css><![CDATA[#this { margin-top: 23px; }]]></Css>        </FieldAspect>      </Field>      <FieldAspect t="field_aspect.FieldData">        <FieldData t="data.WritableText" DefaultValue=""/>      </FieldAspect>    </Field>  </Contents>  <Style t="gstudio.GoogleDrivePopup"/></xtml>          </Component>  <Component id="IsFieldFromSampleDataAdded" type="data.Boolean" execution="native">    <Param name="NewFieldData" Default="%%" />    <Param name="ParentFieldXtml">      <Default t="gstudio.SelectedFieldXtml" />    </Param>  </Component>  <Component id="InsertFieldsFromSampleData" type="field.Fields" dtsupport="true">    <Param name="AsWritableField" type="data.Boolean" />    <xtml t="data.IfThenElse">      <Var name="ButtonsToAddFromSampleData" t="gstudio_insert.GuessFieldsFromSampleData" />      <If t="yesno.NotEmpty" Value="%$ButtonsToAddFromSampleData%" />      <Then t="data.List">        <Item t="control.Button" ID="gstudio_toolbar_insert_open" Title="Add...">          <Style t="gstudio.StudioButtonInToolarMenuPopup" />          <Action t="gstudio_popup.ShowAddFieldsPopup" AsWritableField="%$AsWritableField%" />        </Item>        <Item t="control.SeparatingLine" ID="SeparatingLine" Title="SeparatingLine">          <Style t="gstudio.StudioMenuSeparator"/>        </Item>        <Item t="data.Pipeline">          <Item value="%$ButtonsToAddFromSampleData%" />          <Item t="gstudio.FieldGuessToMenuItem" AsWritableField="%$AsWritableField%" />          <Aggregator t="data.SubsetWithMore" Count="12">            <ItemForMore t="control.Button" ID="gstudio_toolbar_insert_more" Title="Show more...">              <Style t="gstudio.StudioButtonInToolarMenuPopup" />              <Action t="gstudio_popup.ShowAddFieldsPopup" AsWritableField="%$AsWritableField%" />            </ItemForMore>          </Aggregator>        </Item>                </Then>      <Else t="control.Button" ID="gstudio_toolbar_insert_">        <Title t="data.IfThenElse" If="%$AsWritableField%" Then="No Fields from data" Else="No control from data" />        <Style t="gstudio.StudioButtonInToolarMenuPopup" />      </Else>    </xtml>  </Component>  <Component id="AddFieldFromFieldGuess" type="action.Action" light="false">    <Param name="FieldGuess" Default="%%" />    <Param name="AsWritableField" type="data.Boolean" />    <xtml t="gstudio_insert.AddFieldByXtml">      <Var name="NewID" t="text.ToId" Text="_%$FieldGuess/Title%">        <UsedIDs t="gstudio_insert.UsedIDs" />      </Var>       <Var name="FieldType" t="data.IfThenElse" If="%$AsWritableField%">        <Then t="text.FirstSucceeding">          <Item value="fld_type.EditableText" />        </Then>        <Else t="text.FirstSucceeding">          <Item value="fld_type.Text" />        </Else>      </Var>      <NewFieldXtml t="xml.Xml" DynamicContent="true">        <Field t="fld.Field" ID="%$NewID%" Title="%$FieldGuess/Title%" FieldData="%$FieldGuess/FieldData%">          <FieldType t="%$FieldType%" />        </Field>      </NewFieldXtml>    </xtml>  </Component>  <Component id="FieldGuessToMenuItem" type="field.Fields" dtsupport="true">    <Param name="FieldGuess" Default="%%" />    <Param name="AsWritableField" type="data.Boolean" />    <xtml t="control.Button" ID="gstudio_toolbar_insert_" Title="%$FieldGuess/Title% &lt;span style='font-size:70%;' &gt; (%$Sample%) &lt;/span&gt;">      <Var name="Sample" t="text.Truncate" Text="%$FieldGuess/SampleData%" Length="8"/>      <Style t="gstudio.StudioButtonInToolarMenuPopup" />      <Action t="gstudio.AddFieldFromFieldGuess" FieldGuess="%$FieldGuess%" AsWritableField="%$AsWritableField%" />    </xtml>    </Component></xtml><xtml ns="gstudio_insert" light="false">  <Component id="MockupToInsertFieldInStudio" type="field.Fields" execution="native">    <Param name="items">      <FieldAspect t="field_aspect.HideTitle" />    </Param>    <Param name="ItemTitle">      <FieldAspect t="field_aspect.HideTitle" />    </Param>    <Param name="ItemExtraText">      <FieldAspect t="field_aspect.HideTitle" />    </Param>    <Param name="ItemImage">      <FieldAspect t="field_aspect.HideTitle" />    </Param>  </Component>  <Component id="GetOrCreateMockupField" type="data.Data">    <xtml t="data.Pipeline">      <Item t="gstudio.SelectedFieldXtml" />      <Item t="data.IfThenElse" Then="%%" Else="%..%">        <If t="xtml.ComponentHasParam" Component="%@t%" Param="Field"/>      </Item>      <Item t="data.CreateIfDoesNotExist" Query="%Field[@t='gstudio_insert.MockupToInsertFieldInStudio']%">        <Create t="xml.AddXmlChildren" Parent="%%">          <Children t="xml.Xml">            <Field t="gstudio_insert.MockupToInsertFieldInStudio" />          </Children>        </Create>      </Item>    </xtml>  </Component>  <Component id="DeleteMockupField" type="action.Action">    <xtml t="xml.Delete">      <Data t="data.FirstSucceeding">        <Item value="%$_JBartStudio/SelectedFieldXtml/Field[@t='gstudio_insert.MockupToInsertFieldInStudio']%" />        <Item value="%$_JBartStudio/SelectedFieldXtml/../Field[@t='gstudio_insert.MockupToInsertFieldInStudio']%" />      </Data>    </xtml>  </Component>  <Component id="GuessFieldsFromSampleData" type="data.Data" execution="native">    <Param name="FieldXtml">      <Default t="gstudio.SelectedFieldXtml" />    </Param>  </Component>  <Component id="FieldToAddControl" type="field.Fields">    <Param name="Title" />    <Param name="PT" />    <Param name="StylePT" />    <xtml t="control.Button" ID="gstudio_toolbar_insert_" Title="%$Title%">      <Style t="gstudio.StudioButtonInToolarMenuPopup" />      <Action t="gstudio_insert.AddFieldByPT" PT="%$PT%" Title="%$Title%" StylePT="%$StylePT%"/>    </xtml>    </Component>  <Component id="FieldToAddLayout" type="field.Fields">    <Param name="Title" />    <Param name="PT" />    <xtml t="control.Button" ID="gstudio_toolbar_insert_" Title="%$Title%">      <Style t="gstudio.StudioButtonInToolarMenuPopup" />      <Action t="action.RunActions">        <Var name="NewID" t="text.ToId" Text="_%$Title%">          <UsedIDs t="gstudio_insert.UsedIDs" />        </Var>         <Var name="NewFieldXtml" t="xml.Xml" DynamicContent="true">            <Field t="control.Layout" ID="%$NewID%" Title="%$Title%">              <Layout t="%$PT%" />            </Field>        </Var>        <Action t="gstudio_insert.AddFieldByXtml" NewFieldXtml="%$NewFieldXtml%" />      </Action>    </xtml>    </Component>  <Component id="AddFieldByXtml" type="action.Action">    <Param name="NewFieldXtml" />    <Param name="AlsoSelect" type="data.Boolean" Default="true" />    <xtml t="action.RunActions">      <Condition t="yesno.NotEmpty" Value="%$NewFieldXtml%" />      <Var name="Selected" t="gstudio.SelectedFieldXtml" />      <Var name="FieldParent" t="data.IfThenElse" Then="%$_JBartStudio/SelectedFieldXtml%" Else="%$_JBartStudio/SelectedFieldXtml/..%">        <If t="xtml.ComponentHasParam" Component="%$_JBartStudio/SelectedFieldXtml/@t%" Param="Field"/>      </Var>      <Action t="xml.AddXmlChildren" Parent="%$FieldParent%" Children="%$NewFieldXtml%">        <DoOnAddedChildren t="bart_dt.EditXtmlInStudioBar" Xtml="%%" IsNewItem="true" RefreshPreview="true" Condition="%$AlsoSelect%"/>      </Action>    </xtml>  </Component>	<Component id="AddFieldByPT" type="action.Action">	  <Param name="PT" />    <Param name="Title" />	  <Param name="StylePT" />    <xtml t="action.RunActions">      <Var name="NewID" t="text.ToId" Text="_%$Title%">        <UsedIDs t="gstudio_insert.UsedIDs" />      </Var>       <Var name="NewFieldXtml" t="xml.WithChanges">        <Xml t="xml.Xml" DynamicContent="true">          <Field t="%$PT%" ID="%$NewID%" Title="%$Title%">            <Style t="%$StylePT%" />          </Field>        </Xml>        <Change t="xml.DeleteChildren" Condition="%$StylePT% == ''" />      </Var>      <Action t="gstudio_insert.AddFieldByXtml" NewFieldXtml="%$NewFieldXtml%" />    </xtml>	</Component>  <Component id="UsedIDs" type="data.Data" execution="native" />  <Component id="WrapWithGroup" type="action.Action">    <xtml t="action.RunActions">      <Var name="Selected" t="gstudio.SelectedFieldXtml" />      <Var name="NewID" t="text.ToId" Text="_Group">        <UsedIDs t="gstudio_insert.UsedIDs" />      </Var>       <Var name="NewFieldXtml" t="xml.WithChanges">        <Xml t="xml.Xml" DynamicContent="true">          <Field t="control.Layout" ID="%$NewID%" Title="Group" />        </Xml>        <Change t="xml.AddChildren" Children="%$Selected%" CloneChildren="true" />      </Var>      <Action t="xml.ReplaceXmlElement" Element="%$Selected%" NewElement="%$NewFieldXtml%" />      <Action t="bart_dt.EditXtmlInStudioBar" Xtml="%$Selected%" IsNewItem="true" RefreshPreview="true"/>  </xtml></Component>  <Component id="OpenAddFieldsPopup" type="action.Action">      <xtml t="popup.OpenPopup" PopupTitle="New Fields">        <Var name="SampleConfig" t="xml.Xml">          <config/>        </Var>        <Data value="%$SampleConfig%"/>        <Style t="gstudio.GoogleDrivePopup"/>        <Contents t="field.InnerPage">          <Field t="control.Layout">            <Field t="control.PropertySheet" Title="" ID="dt_insert_fields_props">              <FieldAspect t="field_feature.Layout">                <Css><![CDATA[#this { margin-top: 7px; margin-right: 18px; margin-bottom: 20px; }]]></Css>              </FieldAspect>              <Style t="properties.Default" PropertiesWidth="145px"/>              <Field t="fld.Field" FieldData="%!@fields%" ID="fields" Title="Fields">                <FieldType t="fld_type.EditableText">                  <Style t="editable_text.JBartTextbox"/>                </FieldType>                <FieldAspect t="field_aspect.Description" Description="E.g. name,age,description"/>                <FieldAspect t="field_feature.HandleEvent">                  <Event t="field_feature.EnterPressed"/>                  <Action t="operation.ClickOnButton" Button="dtOK"/>                </FieldAspect>              </Field>            </Field>            <Field t="control.Layout" ID="dtHorizontal" Title="Horizontal">              <Layout t="layout.HorizontalHtmlTable" Spacing="20px" VerticalAlign="top"/>              <Field t="control.Button" ID="dtOK" Title="Insert">                <Style t="btn.JBart"/>                <Action t="popup.CloseContainingPopup" ExitMode="OK">                  <DoOnExit t="action.RunActionOnItems" IndicateLastItem="true">                    <Items t="field_dt.NewBasicFields" Names="%$SampleConfig/@fields%"/>                    <Action t="gstudio_insert.AddFieldByXtml" AlsoSelect="%$_IsLastItem%" NewFieldXtml="%%"/>                  </DoOnExit>                </Action>              </Field>              <Field t="control.Button" ID="Cancel" Title="Cancel">                <Style t="btn.JBartGrey"/>                <Action t="popup.CloseContainingPopup" ExitMode=""/>              </Field>            </Field>          </Field>        </Contents>      </xtml>    </Component>  <Component id="InsertWritableTable" type="action.Action">      <xtml t="popup.OpenPopup" PopupTitle="Insert Writable Table">        <Var name="SampleConfig" t="xml.Xml">          <config singleTitle="item" multipleTitle="items" tag="item" fields="name"/>        </Var>        <Data value="%$SampleConfig%"/>        <Contents t="control.Layout" Title="">          <Field t="control.PropertySheet" Title="" ID="dt_insert_table_props">            <Style t="properties.Default" PropertiesWidth="145px"/>            <Field t="fld.Field" FieldData="%!@singleTitle%" ID="title_for_single" Title="Title For Single">              <FieldType t="fld_type.EditableText">                <Style t="editable_text.JBartTextbox"/>              </FieldType>              <FieldAspect t="field_aspect.Mandatory"/>              <FieldAspect t="field_feature.HandleEvent">                <Event t="field_feature.Update"/>                <Action t="operation.RunActions">                  <Action t="action.WriteValue" To="%../@tag%">                    <Value t="text.ToId"/>                  </Action>                  <Action t="action.WriteValue" To="%../@multipleTitle%">                    <Value t="field_dt.ToEnglishPlural"/>                  </Action>                  <Action t="field.RefreshField" FireOnUpdate="" FieldID="tag,title_for_multiple" Scope="screen"/>                </Action>              </FieldAspect>            </Field>            <Field t="fld.Field" FieldData="%!@multipleTitle%" ID="title_for_multiple" Title="Title For Plural">              <FieldType t="fld_type.EditableText">                <Style t="editable_text.JBartTextbox"/>              </FieldType>              <FieldAspect t="field_aspect.Mandatory"/>            </Field>            <Field t="fld.Field" FieldData="%!@tag%" ID="tag" Title="Tag">              <FieldType t="fld_type.EditableText">                <Style t="editable_text.JBartTextbox"/>              </FieldType>              <FieldAspect t="field_aspect.Mandatory"/>            </Field>            <Field t="fld.Field" FieldData="%!@fields%" ID="fields" Title="Fields">              <FieldType t="fld_type.EditableText">                <Style t="editable_text.JBartTextbox"/>              </FieldType>              <FieldAspect t="field_aspect.Description" Description="E.g. name,age,description"/>            </Field>            <FieldAspect t="field_feature.Layout">              <Css><![CDATA[#this { margin-top: 7px; margin-right: 18px; margin-bottom: 41px; }]]></Css>            </FieldAspect>            <FieldAspect t="field_aspect.FeatureForChildren">              <Feature t="field_feature.HandleEvent">                <Event t="field_feature.EnterPressed"/>                <Action t="operation.ClickOnButton" Button="OK"/>              </Feature>            </FieldAspect>          </Field>          <Layout t="layout.Default"/>          <Field t="control.Layout" ID="Horizontal" Title="Horizontal">            <Layout t="layout.HorizontalHtmlTable" Spacing="20px" VerticalAlign="top"/>            <Field t="control.Button" ID="OK" Title="Insert" HideTitle="true">              <Style t="btn.JBart"/>              <Action t="popup.CloseContainingPopup" ExitMode="OK">                <DoOnExit t="gstudio_insert.AddFieldByXtml" AlsoSelect="true">                  <NewFieldXtml t="studio_sample.WritableTableSample" SampleConfig="%$SampleConfig%"/>                </DoOnExit>              </Action>            </Field>            <Field t="control.Button" ID="Cancel" Title="Cancel">              <Style t="btn.JBartGrey"/>              <Action t="popup.CloseContainingPopup" ExitMode=""/>            </Field>          </Field>        </Contents>        <Style t="gstudio.GoogleDrivePopup"/>      </xtml>    </Component>  <Component id="InsertReadOnlyTable" type="action.Action">      <xtml t="popup.OpenPopup" PopupTitle="Insert Read Only Table">        <Var name="SampleConfig" t="gstudio_insert.GetOrCreateMockupField"/>        <Data value="%$SampleConfig%"/>        <Feature t="popup.HandleEvent">          <Event t="popup_event.Close"/>          <Action t="xml.Delete" Data="%$SampleConfig%"/>        </Feature>        <Contents t="control.Layout" Title="">          <FieldAspect t="field_feature.HandleEvent">            <Event t="field_feature.Load"/>            <Action t="operation.RunActions">              <Action t="action.WriteValue" To="%!@items%" Value="\%*\%"/>              <Action t="action.WriteValue" To="%!@singleTitle%" Value="item"/>              <Action t="action.WriteValue" To="%!@multipleTitle%" Value="items"/>              <Action t="action.WriteValue" To="%!@fields%" Value="name"/>            </Action>          </FieldAspect>          <Field t="control.PropertySheet" Title="" ID="dt_insert_table_props">            <Style t="properties.Default" PropertiesWidth="145px"/>            <FieldAspect t="field_aspect.FeatureForChildren">              <Feature t="field_feature.HandleEvent">                <Event t="field_feature.EnterPressed"/>                <Action t="operation.ClickOnButton" Button="OK"/>              </Feature>            </FieldAspect>            <Field t="fld.Field" FieldData="%!@singleTitle%" ID="title_for_single" Title="Title For Single">              <FieldType t="fld_type.EditableText">                <Style t="editable_text.JBartTextbox"/>              </FieldType>              <FieldAspect t="field_aspect.Mandatory"/>              <FieldAspect t="field_feature.HandleEvent">                <Event t="field_feature.Update"/>                <Action t="operation.RunActions">                  <Action t="action.WriteValue" To="%../@multipleTitle%">                    <Value t="field_dt.ToEnglishPlural"/>                  </Action>                  <Action t="field.RefreshField" FireOnUpdate="" FieldID="tag,title_for_multiple" Scope="screen"/>                </Action>              </FieldAspect>            </Field>            <Field t="fld.Field" FieldData="%!@multipleTitle%" ID="title_for_multiple" Title="Title For Plural">              <FieldType t="fld_type.EditableText">                <Style t="editable_text.JBartTextbox"/>              </FieldType>              <FieldAspect t="field_aspect.Mandatory"/>            </Field>            <Field t="field_control.CustomXtmlControl" ID="items" Title="Items">              <Control t="ui.Document">                <Presentation1 t="uiaspect.Group">                  <Style t="group.PropertySheet"/>                </Presentation1>                <Field t="xtml_dt.ParamsAsFields" Params="items" />              </Control>            </Field>            <Field t="fld.Field" FieldData="%!@fields%" ID="fields" Title="Fields">              <FieldType t="fld_type.EditableText">                <Style t="editable_text.JBartTextbox"/>              </FieldType>              <FieldAspect t="field_aspect.Description" Description="E.g. name,age,description"/>            </Field>            <FieldAspect t="field_feature.Layout">              <Css><![CDATA[#this { margin-top: 7px; margin-right: 18px; margin-bottom: 41px; }]]></Css>            </FieldAspect>          </Field>          <Layout t="layout.Default"/>          <Field t="control.Layout" ID="Horizontal" Title="Horizontal">            <Layout t="layout.HorizontalHtmlTable" Spacing="20px" VerticalAlign="top"/>            <Field t="control.Button" ID="OK" Title="Insert">              <Style t="btn.JBart"/>              <Action t="popup.CloseContainingPopup" ExitMode="OK">                <DoOnExit t="gstudio_insert.AddFieldByXtml">                  <NewFieldXtml t="studio_sample.ReadOnlyTableSample" SampleConfig="%$SampleConfig%"/>                </DoOnExit>              </Action>            </Field>            <Field t="control.Button" ID="Cancel" Title="Cancel">              <Style t="btn.JBartGrey"/>              <Action t="popup.CloseContainingPopup" ExitMode=""/>            </Field>          </Field>        </Contents>        <Style t="gstudio.GoogleDrivePopup"/>      </xtml>    </Component></xtml></xtml>