<xtml ns="lmc" plugin="letmesee" altc="true"><Component id="OpenRoomXmlPopup" type="action.Action">  <xtml t="popup.OpenPopup">    <PopupTitle t="data.IfThenElse" If="%$Room/@isTemplate%" Then="Template as xml" Else="Room as xml"/>    <Var name="ID" value="%$Room/@id%"/>    <Feature t="popup_feature.RunOnClose" CloseType="">      <Action t="action.RunActions">        <Action t="action.WriteValue" To="%$Room/@id%" Value="%$ID%"/>        <Action t="action.WriteValue" To="%$Room/@url%"/>        <Action t="action.WriteValue" To="%$Room/@tinyUrl%"/>        <Action t="field.RefreshField" FieldID="Room_Details,LMC_Content_Preview,expand_collapse_buttons" FireOnUpdate="" Scope="screen"/>      </Action>    </Feature>    <Style t="popup.LMCDialog" LightOpacity=""/>    <Contents t="field.InnerPage" Title="Edit room xml">      <Field t="control.Layout" ID="edit_xml_tree_md" Title="Tree MD">        <FieldAspect t="itemtree_aspect.ItemTreeContainer">          <Items t="itemtree.TreeItems" Items="%$Room%">            <SubItems t="data.Pipeline">              <Item t="data.DataWithCondition" Value="%*%">                <Condition t="data.IsInCommaSeparatedList" List="room,items,item,style">                  <Item t="xml.Tag"/>                </Condition>              </Item>            </SubItems>          </Items>        </FieldAspect>        <Layout t="layout.Horizontal" Spacing="4"/>        <Field t="itemtree.Tree" Title="Room Outline" ID="tree" ItemSelection="true">          <Style t="itemtree.TreeWithBullets"/>          <ItemText t="text.FirstSucceeding">            <Item t="data.DataWithCondition" Condition="%$Tag% == 'css'" Value="%@id%"/>            <Item t="data.DataWithCondition" Condition="%$Tag% == 'paragraph'" Value="%@type%"/>            <Item t="data.IfThenElse" If="%@name% == ''" Then="%$Tag%" Else="%$Tag% - %@name%"/>            <Var name="Tag" t="xml.Tag"/>          </ItemText>          <FieldAspect t="field_feature.Css">            <Css><![CDATA[#this {  width:235px;  height:476px;  overflow-x:auto;  border-right1:1px solid #d9d9d9;  margin-right:10px;  border-width:1px;  border-style:solid;  border-color:#d9d9d9;}#this::-webkit-scrollbar-track {  background:transparent;}#this::-webkit-scrollbar-thumb {  background:#76D3D7;}#this::-webkit-scrollbar {  width:10px;  height:10px;}]]></Css>          </FieldAspect>          <ItemImage t="image.ImageInSprite" Url="_jbartImages_/LetMeSee/lmc_sprite-16.png?v=0608" Size="16,16">            <PositionInSprite t="text.FirstSucceeding">              <Var name="Tag" t="xml.Tag"/>              <Item t="data.DataWithCondition" Condition="%$Tag% == 'item'" Value="50,32"/>              <Item t="data.DataWithCondition" Condition="%$Tag% == 'paragraph'" Value="34,32"/>              <Item value="3,32"/>            </PositionInSprite>          </ItemImage>          <FieldAspect t="field_feature.HandleEvent">            <Event t="itemtree_event.BeforeTreeSelectAsync"/>            <Action t="action.RunActions">              <Action t="action.IfThenElse">                <If value="%$Temp/@xmlModified%"/>                <Then t="popup.OpenPopup" PopupTitle="You have modified xml content">                  <Style t="popup.LMCDialog" LightOpacity=""/>                  <Contents t="field.InnerPage">                    <Layout t="layout.Default"/>                    <Field t="control.Label" ID="_Label" Title="Label" Text="You have modified some xml content. Do you want to revert your last changes.">                      <Style t="uitext.PlainText"/>                    </Field>                    <Field t="control.Layout" ID="_Group1" Title="Group">                      <Field t="control.Button" ID="_Button3" Title="Cancel">                        <Style t="btn.LMCGreyButton" Width="140px"/>                        <Action t="action.RunActions">                          <Action t="popup.CloseContainingPopup"/>                          <Action t="object.RunMethod" Object="%$_TreeSelect%" Method="Cancel"/>                        </Action>                      </Field>                      <Field t="control.Button" ID="_Button" Title="Revert changes">                        <Style t="btn.LMCButton" Width="140px"/>                        <Action t="action.RunActions">                          <Action t="popup.CloseContainingPopup"/>                          <Action t="action.WriteValue" To="%$Temp/@xmlModified%" Value="false"/>                          <Action t="object.RunMethod" Object="%$_TreeSelect%" Method="Approve"/>                        </Action>                      </Field>                      <Layout t="layout.DialogButtonsRightAlign"/>                      <FieldAspect t="field_feature.Layout" dragProperty="#this margin">                        <Css><![CDATA[#this { margin-top: 28px; margin-left: 0; }]]></Css>                      </FieldAspect>                    </Field>                  </Contents>                </Then>                <Else t="object.RunMethod" Object="%$_TreeSelect%" Method="Approve"/>              </Action>            </Action>          </FieldAspect>        </Field>        <Field t="control.Layout" ID="edit_xml_details" Title="Details">          <Layout t="layout.Vertical" Spacing="0"/>          <FieldAspect t="itemtree_aspect.RefreshOnTreeSelectionChange" SelectedItemAsData="true" HideWhenNoSelection="true"/>          <Field t="control.Label" ID="xml_details_title" Title="Label">            <Style t="ui.CustomCss" base="uitext.PlainText">              <Style t="uitext.PlainText"/>              <Css><![CDATA[#this { font-weight: bold; font-size: 18px; }]]></Css>            </Style>            <Text t="data.Pipeline">              <Item t="xml.Tag"/>              <Item t="text.Capitalize"/>              <Item t="data.IfThenElse" If="%$Temp/@xmlModified%" Then="%% *" Else="%%"/>            </Text>          </Field>          <Field t="fld.Field" ID="xml_editing" Title="Xml" FieldData="%$XmlAsText%">            <FieldType t="fld_type.EditableText">              <Style t="ui.CustomCss" base="editable_text.CodeMirror">                <Style t="editable_text.CodeMirror" Width="672px" Readonly="false" Autofocus="false" LineNumbers="false" LineWrapping="false" EnableFullScreen="true" Mode="xml">                  <Height t="data.IfThenElse" Else="415px" Then="388px">                    <If t="text.ItemsEqual" Item2="room">                      <Item1 t="xml.Tag"/>                    </If>                  </Height>                </Style>                <Css><![CDATA[#this {  min-width:672px;  min-height1:412px;  border:1px solid #ddd;}#this .CodeMirror {  border:2px solid #FFEFD5;}.cm-s-solarized.cm-s-light {  background:none !important;  border:none !important;}]]></Css>              </Style>            </FieldType>            <FieldAspect t="field_feature.Layout" dragProperty="#this margin">              <Css><![CDATA[#this { margin-top: 4px; margin-left: 0; }]]></Css>            </FieldAspect>            <FieldAspect t="field_feature.HandleEvent">              <Event t="field_feature.Update"/>              <Action t="operation.RunActions">                <Action t="action.WriteValue" To="%$Temp/!@xmlModified%" Value="true"/>                <Action t="field.RefreshField" FireOnUpdate="" FieldID="xml_details_title,xml_save_changes" Scope="sibling"/>              </Action>            </FieldAspect>          </Field>          <FieldAspect t="field_aspect.Variable" VarName="XmlAsText">            <Value t="data.WritableText">              <DefaultValue t="xml.XmlToText" PrettyPrint="true"/>            </Value>          </FieldAspect>          <Field t="fld.Field" FieldData="%$Temp/!@keepRoomHeader%" ID="Keep_Room_Header" Title="Keep Room Header">            <FieldType t="fld_type.EditableBoolean" HidePropertySheetTitle="" TextForTrue="true" TextForFalse="false">              <Style t="editable_boolean.Checkbox" HideTitle="true"/>            </FieldType>            <FieldAspect t="field_aspect.DefaultValue" Value="true"/>            <FieldAspect t="field_feature.Layout">              <Css><![CDATA[#this { margin-top: 8px; }#wrapper { }]]></Css>            </FieldAspect>            <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render">              <ShowCondition t="xml.IsOfTag" Tag="room"/>            </FieldAspect>          </Field>          <Field t="control.Layout" ID="_Group" Title="Group">            <Field t="control.Button" ID="xml_save_changes" Title="OK" HideTitle="true">              <Style t="btn.LMCButton" Width="159px"/>              <Action t="action.Validate" Group="edit_xml_details">                <WhenValid t="action.RunActions">                  <Action t="xml.ReplaceXmlElement" Element="%$BaseXml%" Mode="keep original tag">                    <NewElement t="data.Pipeline">                      <Item t="xml.TextToXml" Data="%$XmlAsText%"/>                      <Item t="data.IfThenElse" Else="%%">                        <Then t="xml.WithChanges">                          <Change t="xml.RemoveAttributes">                            <AttributeNames t="data.Pipeline">                              <Item t="xml.Attributes"/>                              <Item t="xml.AttributeName"/>                              <Aggregator t="text.Concat" Separator=","/>                            </AttributeNames>                          </Change>                          <Change t="xml.CopyAttributes" SourceElement="%$BaseXml%"/>                        </Then>                        <If t="yesno.And">                          <Item value="%$Temp/@keepRoomHeader%"/>                          <Item t="xml.IsOfTag" Tag="room"/>                        </If>                      </Item>                    </NewElement>                  </Action>                  <Action t="action.WriteValue" To="%$Temp/@xmlModified%" Value="false"/>                  <Action t="popup.CloseContainingPopup" ExitMode=""/>                </WhenValid>              </Action>              <Disabled t="yesno.Expression" Expression="%$Temp/@xmlModified% != 'true'"/>            </Field>            <Layout t="layout.Default"/>            <Field t="control.Button" ID="_Button2" Title="Cancel">              <Style t="btn.LMCGreyButton" Width="140px"/>              <Action t="popup.CloseContainingPopup" ExitMode=""/>              <FieldAspect t="field_feature.Css">                <Css><![CDATA[#this { float: right; }]]></Css>              </FieldAspect>              <FieldAspect t="field_feature.Layout" dragProperty="#this margin">                <Css><![CDATA[#this { margin-top: -36px; margin-left: 0; }]]></Css>              </FieldAspect>            </Field>            <FieldAspect t="field_feature.Layout" dragProperty="#this margin">              <Css><![CDATA[#this { margin-top: 12px; margin-left: 0; }]]></Css>            </FieldAspect>          </Field>          <FieldAspect t="field_aspect.Variable" VarName="BaseXml" Value="%%"/>        </Field>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.Load"/>          <Action t="action.WriteValue" To="%$Temp/@xmlModified%" Value="false"/>        </FieldAspect>      </Field>      <Layout t="layout.Default"/>    </Contents>  </xtml></Component><Component id="EditRoomWizardSettings" type="jbart.MyWidgetPage">  <xtml t="control.Section" ID="_Section" Title="New room wizard">    <Style t="ui.CustomCss" base="section.DefaultNoUnderline">      <Style t="section.DefaultNoUnderline"/>      <Css><![CDATA[#this >.section_title {   font-family: tahoma,arial,helvetica,sans-serif;   font-size: 12px;   font-weight: bold;   color: #3764A0; padding: 3px 0;   margin-bottom: 5px;   margin-top: 11px; }]]></Css>    </Style>    <Layout t="layout.Vertical" Spacing="3px"/>    <Field t="fld.Field" FieldData="%!@autoOpen%" ID="SMS_Message3" Title="Create new room opens the new room wizard">      <FieldType t="fld_type.EditableBoolean" HidePropertySheetTitle="true">        <Style t="editable_boolean.Checkbox" HideTitle="true"/>      </FieldType>    </Field>    <Field t="fld.Field" FieldData="%!@alsoSendSms%" ID="SMS_Message2" Title="Auto check send sms chekcbox">      <FieldType t="fld_type.EditableBoolean" HidePropertySheetTitle="true">        <Style t="editable_boolean.Checkbox" HideTitle="true"/>      </FieldType>    </Field>    <Field t="fld.Field" FieldData="%!@hideAddItems%" ID="SMS_Message4" Title="Skip 'add items' page">      <FieldType t="fld_type.EditableBoolean" HidePropertySheetTitle="true">        <Style t="editable_boolean.Checkbox" HideTitle="true"/>      </FieldType>    </Field>    <FieldAspect t="field_aspect.FieldData" FieldData="%!createRoomWizard%"/>  </xtml></Component><Component id="TabOfInvite" type="jbart.MyWidgetPage">  <xtml t="control.Layout" ID="_Vertical_Layout" Title="Vertical Layout">    <Layout t="layout.Vertical" Spacing="0"/>    <Field t="control.PropertySheet" ID="customer_properties" Title="Property Sheet">      <Style t="properties.LMCPropertySheet"/>      <Field t="fld.Field" ID="Customer_Name" Title="Customer name" FieldData="%!@customerName%">        <FieldType t="fld_type.EditableText">          <Style t="editable_text.LMCTextbox">            <Width t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="369px"/>          </Style>        </FieldType>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.Update"/>          <Action t="action.RunActions">            <Action t="action.WriteValue" To="%$RoomHeaders/*[#{../@id}]/!@customerName%" Value="%%"/>            <Action t="field.RefreshField" FireOnUpdate="" FieldID="RoomName,rooms_list,lmc_top_name" Scope="screen"/>          </Action>        </FieldAspect>      </Field>      <Field t="fld.Field" ID="Customer_Name1" Title="Customer company" FieldData="%!@customerCompany%">        <FieldType t="fld_type.EditableText">          <Style t="editable_text.LMCTextbox">            <Width t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="369px"/>          </Style>        </FieldType>      </Field>      <Field t="fld.Field" FieldData="%!@phone%" ID="phone" Title="Customer phone">        <FieldType t="fld_type.EditableText">          <Style t="editable_text.LMCTextbox" HtmlInputType="tel">            <Width t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="369px"/>          </Style>        </FieldType>      </Field>      <Field t="fld.Field" FieldData="%!@eMail%" ID="eMail" Title="Customer email">        <FieldType t="fld_type.EditableText">          <Style t="editable_text.LMCTextbox">            <Width t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="369px"/>          </Style>        </FieldType>      </Field>      <FieldAspect t="field_feature.HandleEvent">        <Event t="field_feature.Load"/>        <Action t="lmc.EnsureRoomUrl"/>      </FieldAspect>    </Field>    <Field t="control.Layout" ID="_Vertical_Layout8" Title="Invitations">      <Layout t="layout.HorizontalRightToLeft">        <Spacing t="data.IfThenElse" Then="25px" Else="5px">          <If t="yesno.GreaterThan" Than="400">            <Item t="ui.ScreenSize" Axis="width"/>          </If>        </Spacing>      </Layout>      <Field t="control.Button" ID="SendEmail" Title="Invite by email" HideTitle="true">        <Style t="btn.LMCButton" Width="140px"/>        <Action t="async.RunAsyncActions">          <Action t="lmc.EnsureRoomUrl"/>          <Action t="xml.ChangeXml" Xml="%$Temp/Email%">            <Change t="xml.Delete"/>          </Action>          <Action t="popup.OpenPopup" PopupTitle="Send Invitation eMail">            <Style t="popup.LMCDialog"/>            <Contents t="field.InnerPage">              <Layout t="layout.Default"/>              <Field t="control.Layout" ID="_Group883" Title="Send Email">                <Field t="control.PropertySheet" ID="_Property_Sheet81" Title="Property Sheet">                  <Style t="properties.TitlesAboveFieldsVertical"/>                  <Field t="fld.Field" FieldData="%!$Room/@eMail%" ID="eMail" Title="Email">                    <FieldType t="fld_type.EditableText">                      <Style t="ui.CustomCss" base="sample.LargeEditableText">                        <Style t="sample.LargeEditableText"/>                        <Css><![CDATA[#this { border: 1px solid #BDC7D8; font-size: 14px;   padding: 0 6px; height: 38px; width: 457px;   background: #fff; box-sizing: border-box; }#this:focus { border-color: rgba(82, 168, 236, 0.8);   outline: 0; outline: thin dotted 9;   box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 8px rgba(82, 168, 236, 0.6); }#this.placeholder { color: #8B8B8B; height: 38px;   padding: 0 6px; }#this.aa_error { background: #fbebeb;   border: 1px solid #feb2b2;   color: #ec643d; }.width_mobile_phone #this { width: 100%; }]]></Css>                      </Style>                    </FieldType>                    <FieldAspect t="field_aspect.RefreshDependentFields" FieldsIds="SendViaLocalEmail" RefreshOn="every click" RefreshScope="screen"/>                  </Field>                  <Field t="fld.Field" FieldData="%!@subject%" ID="subject" Title="Subject">                    <FieldType t="fld_type.EditableText">                      <Style t="ui.CustomCss" base="sample.LargeEditableText">                        <Style t="sample.LargeEditableText"/>                        <Css><![CDATA[#this { border: 1px solid #BDC7D8; font-size: 14px;   padding: 0 6px; height: 38px; width: 457px;   background: #fff; box-sizing: border-box; }#this:focus { border-color: rgba(82, 168, 236, 0.8);   outline: 0; outline: thin dotted 9;   box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 8px rgba(82, 168, 236, 0.6); }#this.placeholder { color: #8B8B8B; height: 38px;   padding: 0 6px; }#this.aa_error { background: #fbebeb;   border: 1px solid #feb2b2;   color: #ec643d; }.width_mobile_phone #this { width: 100%; }]]></Css>                      </Style>                    </FieldType>                    <FieldAspect t="field_aspect.DefaultValue">                      <Value t="data.IfThenElse" If="%$ProjectSettings/@overrideSiteSettings%" Then="%$ProjectSettings/@emailSubject%" Else="%$SiteSettings/@emailSubject%"/>                    </FieldAspect>                    <FieldAspect t="field_aspect.RefreshDependentFields" FieldsIds="SendViaLocalEmail" RefreshOn="every click" RefreshScope="screen"/>                  </Field>                </Field>                <Layout t="layout.Default"/>                <Field t="control.PropertySheet" ID="_Property_Sheet" Title="Property Sheet">                  <Style t="properties.TitlesAboveFieldsVertical"/>                  <Field1 t="control.Label" ID="message_too_long" Title="message too long">                    <Style t="ui.CustomCss" base="uitext.PlainText">                      <Style t="uitext.PlainText"/>                      <Css><![CDATA[#this { color: #ff195e; }]]></Css>                    </Style>                    <FieldAspect t="field_aspect.HidePropertyTitle"/>                    <FieldAspect t="field_aspect.Hidden">                      <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Render as hidden html">                        <ShowCondition t="yesno.GreaterThan" Than="128">                          <Item t="text.Length" Data="%$Room/!sms/@text%"/>                        </ShowCondition>                      </OnCondition>                    </FieldAspect>                  </Field1>                  <Field t="fld.Field" FieldData="%!@body%" ID="lmc_sms_text" Title="Body">                    <FieldType t="fld_type.EditableText">                      <Style t="ui.CustomCss" base="editable_text.JBartMultiLine">                        <Style t="editable_text.JBartMultiLine" Width="458px" Height="125px"/>                        <Css><![CDATA[#this {  border:1px solid #BDC7D8;  font-size:11px;  padding:3px;  height:125px;  width:458px;  background:#fff;  box-sizing:border-box;}#this:focus {  border-color:rgba(82, 168, 236, 0.8);  outline:0;  outline:thin dotted 9;  box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}.width_mobile_phone #this {  width: 100\%;}]]></Css>                      </Style>                    </FieldType>                    <FieldAspect t="field_feature.HandleEvent">                      <Event t="field_feature.Update"/>                      <Action t="field.RefreshField" FireOnUpdate="" FieldID="message_too_long,Warning" Scope="screen"/>                    </FieldAspect>                    <FieldAspect t="field_aspect.DefaultValue">                      <Value t="data.Pipeline">                        <Item t="text.FirstSucceeding">                          <Item t="data.Pipeline">                            <Item t="data.IfThenElse" If="%$ProjectSettings/@overrideSiteSettings%" Then="%$ProjectSettings/smsText%" Else="%$SiteSettings/smsText%"/>                            <Item t="xml.InnerText"/>                          </Item>                          <Item t="lmc.DefaultSMSText"/>                        </Item>                        <Item t="text.Replace" Find="{URL}" ReplaceWith="%$Room/@tinyUrl%"/>                        <Item t="text.Replace" Find="{Customer}" ReplaceWith="%$Room/@customerName%"/>                        <Item t="lmc.ReplaceVariableFields"/>                      </Value>                    </FieldAspect>                    <FieldAspect t="field_aspect.RefreshDependentFields" FieldsIds="SendViaLocalEmail" RefreshOn="every click" RefreshScope="screen"/>                  </Field>                  <Field t="control.Label" ID="Warning" Title="" Text="Email body does not contain link: %$Room/@tinyUrl%">                    <Style t="ui.CustomCss" base="uitext.PlainText">                      <Style t="uitext.PlainText"/>                      <Css><![CDATA[#this { padding-bottom: 7px; }]]></Css>                    </Style>                    <FieldAspect t="field_aspect.HidePropertyTitle"/>                    <FieldAspect t="field_aspect.Hidden">                      <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Render as hidden html">                        <ShowCondition t="yesno.And">                          <Item t="yesno.NotContains" AllText="%@body%" Text="%$Room/@tinyUrl%"/>                        </ShowCondition>                      </OnCondition>                    </FieldAspect>                  </Field>                </Field>                <Field t="control.Layout" ID="_Group884" Title="Buttons">                  <Layout t="layout.DialogButtonsRightAlign"/>                  <Field t="control.Hyperlink" ID="SendViaLocalEmail" Title="Send via Local email" Target="_blank1">                    <Style t="ui.CustomCss" base="hyperlink_style.Simple">                      <Style t="hyperlink_style.Simple"/>                      <Css><![CDATA[#this {display:block;text-decoration:none;  margin:0;  border:none;  cursor:pointer;  text-align:center;  color:#FFFFFF;  font-size:14px;  min-width:%$Width%;  vertical-align:middle;  line-height:26px;  font-family:arial;  padding:5px 14px;  background-color:#47BAC1;  width:160px;}#this:hover {  background-color:#6CA8AC;}#this:active {  background-color:#487E81;  outline:0;  background-image:none;}#this.disabled {  cursor:default;  background: #B6CECF;}#this.waiting {  cursor:default;  background:#55878A;  outline: none;  }]]></Css>                    </Style>                    <Link t="data.Pipeline">                      <Item value="mailto:%$Room/@eMail%"/>                      <Var name="Body" t="data.Pipeline">                        <Item t="text.UrlEncoding" Data="%@body%"/>                      </Var>                      <Var t="text.UrlEncoding" Data="%@subject%" name="Subject"/>                      <Item value="%%?subject=%$Subject%"/>                      <Item value="%%&amp;body=%$Body%"/>                    </Link>                    <FieldAspect t="field_feature.HandleEvent">                      <Event t="field_feature.Click"/>                      <Action t="action.RunActions">                        <Action t="popup.CloseContainingPopup" ExitMode=""/>                        <Action t="popup.OpenPopup" PopupTitle="Sending email">                          <Style t="popup.LMCDialog" LightOpacity=""/>                          <Contents t="field.InnerPage">                            <Layout t="layout.Default"/>                            <Field t="control.Label" ID="_Label" Title="Label" Text="Did you sent the email?">                              <Style t="ui.CustomCss" base="uitext.PlainText">                                <Style t="uitext.PlainText"/>                                <Css><![CDATA[#this {  font-size:14px;}]]></Css>                              </Style>                            </Field>                            <Field t="control.Label" ID="_Label1" Title="Label1" Text="If you state yes an indication of this email will be added to the customer activity.">                              <Style t="ui.CustomCss" base="uitext.PlainText">                                <Style t="uitext.PlainText"/>                                <Css><![CDATA[#this { font-size: 14px; color: #6e6e6e; }]]></Css>                              </Style>                              <FieldAspect t="field_feature.Layout" dragProperty="#this margin">                                <Css><![CDATA[#this { margin-top: 7px; margin-left: 0; }#wrapper { }]]></Css>                              </FieldAspect>                            </Field>                            <Field t="control.Layout" ID="popup_buttons" Title="Buttons">                              <Layout t="layout.DialogButtonsRightAlign"/>                              <Field t="control.Button" ID="OK" Title="Yes" HideTitle="true">                                <Style t="btn.LMCButton" Width="140px"/>                                <Action t="popup.CloseContainingPopup" ExitMode="OK">                                  <DoOnExit t="action.RunActions">                                    <Action t="lmc.AddInvitationToVisitorLog" InvitationType="email" Email="%$Room/@eMail%"/>                                    <Action t="field.RefreshField" FireOnUpdate="" FieldID="lmc_cobrowsing,customer_properties" Scope="screen"/>                                  </DoOnExit>                                </Action>                              </Field>                              <Field t="control.Button" ID="Cancel" Title="No">                                <Style t="btn.LMCGreyButton" Width="140px"/>                                <Action t="popup.CloseContainingPopup" ExitMode=""/>                              </Field>                              <FieldAspect t="field_feature.Layout">                                <Css><![CDATA[#this { margin-top: 20px; }]]></Css>                              </FieldAspect>                              <FieldAspect t="field_feature.Css">                                <Css><![CDATA[.width_mobile_phone #this button {  min-width:100px;}]]></Css>                              </FieldAspect>                            </Field>                          </Contents>                        </Action>                      </Action>                    </FieldAspect>                    <FieldAspect t="field_feature.Css">                      <Css><![CDATA[.width_mobile_phone #this {  font-size:11px;  width:106px;  min-width:106px;}]]></Css>                    </FieldAspect>                  </Field>                  <Field t="control.Button" ID="_Button88" Title="Close">                    <Style t="btn.LMCGreyButton" Width="140px"/>                    <Action t="popup.CloseContainingPopup" ExitMode=""/>                    <FieldAspect t="field_feature.Css">                      <Css><![CDATA[.width_mobile_phone #this {  font-size:12px;  min-width:90px;}]]></Css>                    </FieldAspect>                  </Field>                </Field>                <Field t="control.Label" ID="email_to_agent_result" Title="email to agent result" Text="%$Result/EmailToAgentResult/result/@message%">                  <Style t="ui.CustomCss" base="uitext.PlainText">                    <Style t="uitext.PlainText"/>                    <Css><![CDATA[#this { margin-top: 4px; }]]></Css>                  </Style>                </Field>                <FieldAspect t="field_aspect.Variable" VarName="Result">                  <Value t="xml.ByTag"/>                </FieldAspect>                <FieldAspect t="field_aspect.FieldData" FieldData="%!$Temp/Email%"/>              </Field>            </Contents>          </Action>          <Action t="lmc.TrackUserAction" Type="open invite email popup" Text="%$Room/@customerName%"/>        </Action>      </Field>      <Field t="control.Button" ID="SendSms" Title="Invite by SMS" HideTitle="true">        <Style t="btn.LMCButton" Width="140px"/>        <Action t="async.RunAsyncActions" StopOnError="true">          <Action t="lmc.EnsureRoomUrl"/>          <Action t="popup.OpenPopup" PopupTitle="Send Invitation SMS">            <Style t="popup.LMCDialog" LightOpacity=""/>            <Contents t="field.InnerPage">              <Layout t="layout.Default"/>              <Field t="control.Layout" ID="SendSMSGroup" Title="Send SMS">                <Layout t="layout.Default"/>                <Field t="control.PropertySheet" ID="_Property_Sheet" Title="Property Sheet">                  <Style t="properties.TitlesAboveFieldsVertical"/>                  <Field t="fld.Field" FieldData="%!$Room/@phone%" ID="phone" Title="Phone">                    <FieldAspect t="field_feature.HandleEvent">                      <Event t="field_feature.EnterPressed"/>                      <Action t="operation.ClickOnButton" Button="DoSendSMS"/>                    </FieldAspect>                    <FieldType t="fld_type.EditableText">                      <Style t="ui.CustomStyle" base="editable_text.JBartTextbox">                        <Html><![CDATA[<input type="tel"/>]]></Html>                        <Css><![CDATA[#this { border: 1px solid #BDC7D8; font-size: 16px;   padding: 0 6px; height: 38px; width: 457px;   background: #fff; box-sizing: border-box; }#this:focus { border-color: rgba(82, 168, 236, 0.8);   outline: 0; outline: thin dotted 9;   box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 8px rgba(82, 168, 236, 0.6); }#this.placeholder { color: #8B8B8B; height: 38px;   padding: 0 6px; }#this.aa_error { background: #fbebeb;   border: 1px solid #feb2b2;   color: #ec643d; }.width_mobile_phone #this { width: 100%; }]]></Css>                        <Javascript><![CDATA[function(textbox) {  aa_jbart_textbox(textbox);}]]></Javascript>                      </Style>                    </FieldType>                    <FieldAspect t="field_aspect.Mandatory"/>                  </Field>                  <Field t="fld.Field" FieldData="%!$Room/@smsTitle%" ID="phone" Title="Sms title">                    <FieldType t="fld_type.EditableText">                      <Style t="ui.CustomCss" base="editable_text.JBartTextbox">                        <Style t="editable_text.JBartTextbox" Width="150px"/>                        <Css><![CDATA[#this {  border:1px solid #BDC7D8;  font-size:12px;  padding:0 6px;  height:38px;  width:457px;  background:#fff;  box-sizing:border-box;}#this:focus {  border-color:rgba(82, 168, 236, 0.8);  outline:0;  outline:thin dotted 9;  box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}#this.placeholder {  color:#8B8B8B;  height:38px;  padding:0 6px;}#this.aa_error {  background:#fbebeb;  border:1px solid #feb2b2;  color:#ec643d;}.width_mobile_phone #this {  width:100\%;}]]></Css>                      </Style>                    </FieldType>                    <FieldAspect t="field_aspect.DefaultValue">                      <Value t="text.FirstSucceeding">                        <Item t="data.IfThenElse" If="%$ProjectSettings/@overrideSiteSettings%" Then="%$ProjectSettings/@SMS_Title%" Else="%$SiteSettings/@SMS_Title%"/>                        <Item value="Let Me See"/>                      </Value>                    </FieldAspect>                    <FieldAspect t="field_aspect.Validation" AddTitleToErrorMessage="false" CheckValidation="on change" ErrorMessage="SMS Title should be in english or numbers and not too long">                      <ValidationLogic t="validation.CustomValidation">                        <SuccessCondition t="yesno.And">                          <Item t="text.MatchesRegex" Expression="[a-zA-Z0-9+\- ]+"/>                          <Var name="Length" t="text.Length"/>                          <Item value="%$Length% &lt;= 11"/>                        </SuccessCondition>                      </ValidationLogic>                    </FieldAspect>                  </Field>                  <Field t="fld.Field" FieldData="%$Room/!sms/@text%" ID="lmc_sms_text" Title="Text">                    <FieldType t="fld_type.EditableText">                      <Style t="ui.CustomCss" base="editable_text.JBartMultiLine">                        <Style t="editable_text.JBartMultiLine" Width="458px" Height="125px"/>                        <Css><![CDATA[#this {  border:1px solid #BDC7D8;  font-size:11px;  padding:3px;  height:125px;  width:458px;  background:#fff;  box-sizing:border-box;}#this:focus {  border-color:rgba(82, 168, 236, 0.8);  outline:0;  outline:thin dotted 9;  box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}#this.aa_error {  background:#fbebeb;  border:1px solid #feb2b2;}.width_mobile_phone #this {  width:100\%;}]]></Css>                      </Style>                    </FieldType>                    <FieldAspect t="field_feature.HandleEvent">                      <Event t="field_feature.Update"/>                      <Action t="operation.RunActions">                        <Action t="field.RefreshField" FireOnUpdate="" FieldID="message_too_long,SMSWarning" Scope="screen"/>                        <Action t="lmc.ReplaceSMSEmailContent"/>                      </Action>                    </FieldAspect>                    <FieldAspect t="field_aspect.DefaultValue">                      <Value t="data.Pipeline">                        <Item t="text.FirstSucceeding">                          <Item t="data.Pipeline">                            <Item t="data.IfThenElse" If="%$ProjectSettings/@overrideSiteSettings%" Then="%$ProjectSettings/smsText%" Else="%$SiteSettings/smsText%"/>                            <Item t="xml.InnerText"/>                          </Item>                          <Item t="lmc.DefaultSMSText"/>                        </Item>                        <Item t="text.Replace" Find="{URL}" ReplaceWith="%$Room/@tinyUrl%"/>                        <Item t="text.Replace" Find="{Customer}" ReplaceWith="%$Room/@customerName%"/>                        <Item t="lmc.ReplaceVariableFields"/>                      </Value>                    </FieldAspect>                    <FieldAspect t="field_aspect.Mandatory"/>                  </Field>                  <Field t="control.Label" ID="SMSWarning" Title="Label" Text="SMS text does not contain link: %$Room/@tinyUrl%">                    <Style t="ui.CustomCss" base="uitext.PlainText">                      <Style t="uitext.PlainText"/>                      <Css><![CDATA[#this { padding-bottom: 7px; }]]></Css>                    </Style>                    <FieldAspect t="field_aspect.HidePropertyTitle"/>                    <FieldAspect t="field_aspect.Hidden">                      <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Render as hidden html">                        <ShowCondition t="yesno.And">                          <Item t="yesno.NotContains" AllText="%$Room/sms/@text%" Text="%$Room/@tinyUrl%"/>                        </ShowCondition>                      </OnCondition>                    </FieldAspect>                  </Field>                </Field>                <Field t="control.Layout" ID="_Group884" Title="Buttons">                  <Field t="control.Button" ID="DoSendSMS" Title="Send SMS" HideTitle="true">                    <Style t="btn.LMCButton" WaitingText="Sending..." Width="138px"/>                    <Action t="action.Validate" Group="SendSMSGroup">                      <WhenValid t="async.RunAsyncActions" StopOnError="true">                        <Action t="action.WriteValue" To="%$Room/sms/@text%">                          <Value t="data.Pipeline">                            <Item value="%$Room/sms/@text%"/>                            <Item t="data.IfThenElse" Then="%%" Else="%$Room/sms/@text% &#xa;%$Room/@tinyUrl%">                              <If t="yesno.Contains" AllText="%%">                                <Text value="%$Room/@tinyUrl%"/>                              </If>                            </Item>                          </Value>                        </Action>                        <Action t="lmc.LMCSendSMS" Content="%$Room/sms/@text%" To="%$Room/@phone%" AddInvitationToVisitorLog="true">                          <NoUnicodeChars t="data.IfThenElse" If="%$ProjectSettings/@overrideSiteSettings%" Then="%$ProjectSettings/@noSmsUnicode%" Else="%$SiteSettings/@noSmsUnicode%"/>                          <From t="text.FirstSucceeding">                            <Item value="%$Room/@smsTitle%"/>                            <Item value="Let Me See"/>                          </From>                        </Action>                        <Action t="field.RefreshField" FireOnUpdate="" FieldID="result,lmc_cobrowsing,customer_properties" Scope="screen"/>                        <Action t="action.ActionByCondition" Condition="%$Result/SmsResult/xml/messages/xml/@status% == 0">                          <Action t="operation.RunActions">                            <Action t="popup.CloseContainingPopup" ExitMode="Cancel"/>                            <Action t="notification_box.ShowNotification" Status="info" Text="SMS message sent successfuly" NotificationBox="LMC_Desktop_Notification"/>                          </Action>                        </Action>                        <OnError t="notification_box.ShowNotification" Status="error" NotificationBox="sms_notificatiom" Text="Error sending sms" Duration="5000"/>                      </WhenValid>                    </Action>                  </Field>                  <Layout t="layout.DialogButtonsRightAlign"/>                  <Field t="control.Button" ID="_Button88" Title="Close">                    <Style t="btn.LMCGreyButton" Width="140px"/>                    <Action t="popup.CloseContainingPopup" ExitMode=""/>                  </Field>                  <FieldAspect t="field_feature.Css">                    <Css><![CDATA[.width_mobile_phone #this button {  min-width: 106px;}]]></Css>                  </FieldAspect>                </Field>                <FieldAspect t="field_aspect.Variable" VarName="Result">                  <Value t="xml.ByTag"/>                </FieldAspect>                <FieldAspect t="field_aspect.FieldData" FieldData="%$Temp%"/>                <Field t="notification_box.NotificationBox" ID="sms_notificatiom" Title="NotificationBox">                  <Style t="notification_box.Default"/>                  <FieldAspect t="field_feature.Layout">                    <Css><![CDATA[#this { margin-top: 5px; }#wrapper { }]]></Css>                  </FieldAspect>                </Field>              </Field>            </Contents>            <Feature t="popup.HandleEvent">              <Action t="lmc.TrackUserAction" Type="open invite sms popup" Text="room=%$Room/@customerName%"/>              <Event t="popup_event.Show"/>            </Feature>          </Action>        </Action>      </Field>      <FieldAspect t="field_feature.Layout">        <Css><![CDATA[#this { margin-top: 10px; margin-left: 0; }]]></Css>      </FieldAspect>    </Field>    <Field t="control.PropertySheet" ID="_Property_Sheet2" Title="Agent">      <Style t="properties.LMCPropertySheet">&#xa;          </Style>      <Field t="fld.Field" ID="agent" Title="Agent name" FieldData="%!@agent%">        <FieldType t="fld_type.EditableText">          <Style t="editable_text.LMCTextbox">            <Width t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="369px"/>          </Style>        </FieldType>      </Field>      <Field t="fld.Field" FieldData="%!@agentPhone%" ID="agent_phone" Title="Agent phone">        <FieldType t="fld_type.EditableText">          <Style t="editable_text.LMCTextbox" HtmlInputType="tel">            <Width t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="369px"/>          </Style>        </FieldType>      </Field>      <Field t="fld.Field" FieldData="%!@agentEmail%" ID="eMail" Title="Agent email">        <FieldType t="fld_type.EditableText">          <Style t="editable_text.LMCTextbox">            <Width t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="369px"/>          </Style>        </FieldType>      </Field>      <FieldAspect t="field_feature.Layout">        <Css><![CDATA[#this { margin-top: 36px; }]]></Css>      </FieldAspect>    </Field>    <Field t="control.Layout" ID="_Group3" Title="Checkboxes">      <Layout t="layout.Vertical" Spacing="10px"/>      <Field t="fld.Field" FieldData="%!@sendEmailToAgent%" ID="sendMeSms" Title="Send email">        <FieldType t="fld_type.EditableBoolean" HidePropertySheetTitle="">          <Style t="editable_boolean.LMCCheckbox"/>        </FieldType>        <FieldAspect t="field_aspect.Title" Title="Send email to agent when the customer joins the room"/>        <FieldAspect t="field_feature.Layout" dragProperty="#this margin">          <Css><![CDATA[#this { margin-top: 21px; margin-left: 0; }#wrapper { }]]></Css>        </FieldAspect>      </Field>    </Field>    <Field t="control.Layout" ID="_Group" Title="Group">      <Layout t="layout.Horizontal" VerticalLayoutForMobileWidth="false" Spacing="35"/>    </Field>    <FieldAspect t="field_aspect.FieldData" FieldData="%$Room%"/>  </xtml></Component><Component id="TabOfRoom" type="jbart.MyWidgetPage">  <Param name="ReadOnly" type="data.Boolean"/>  <xtml t="control.Layout" ID="_Group" Title="Load">    <Layout t="layout.Vertical" Spacing="15px"/>    <Field t="control.PropertySheet" ID="_Property_Sheet8" Title="Property Sheet">      <Style t="properties.TitlesAboveFields" HorizontalSpacing="37px" VerticalSpacing="8px"/>      <Field t="fld.Field" ID="Visitor_Total_Time" Title="Created">        <FieldType t="fld_type.Text">          <Style t="uitext.PlainText"/>        </FieldType>        <FieldData t="text.MomentTimeFormat" Time="%$Room/@createdDate%" Format="DD/MM/YY HH:mm"/>      </Field>      <Field t="fld.Field" ID="Visitor_Total_Time" Title="Last visitor activity">        <FieldType t="fld_type.Text">          <Style t="uitext.PlainText"/>        </FieldType>        <FieldData t="text.MomentTimeFormat" Time="%$RoomVisitorStats/@lastEventTime%" Format="DD/MM/YY HH:mm"/>      </Field>      <Field t="fld.Field" ID="Visitor_Total_Time" Title="Join Count">        <FieldType t="fld_type.Text">          <Style t="uitext.PlainText"/>        </FieldType>        <FieldData value="%$RoomVisitorStats/@visitorJoinCount%">&#xa;</FieldData>      </Field>      <Field t="fld.Field" ID="Visitor_Total_Time" Title="Total Time">        <FieldType t="fld_type.Text">          <Style t="uitext.PlainText"/>        </FieldType>        <FieldData t="data.Pipeline">          <Item value="%$Time% minutes"/>          <Var name="Time" t="data.FirstSucceeding">            <Item value="%$RoomVisitorStats/@visitorTimeMin%"/>            <Item value="0"/>          </Var>        </FieldData>      </Field>      <Field t="control.Label" ID="_Label" Title="Size">        <Style t="uitext.PlainText"/>        <Text t="data.Pipeline">          <Item t="xml.XmlToText" Data="%$Room%"/>          <Item t="text.Length"/>          <Item t="data.Math" Expression="Math.floor(%% / 1000)"/>          <Item value="%%K"/>        </Text>      </Field>    </Field>    <Field t="control.Page" ID="_Link_to_page2" Title="Chart">      <Page t="lmc.RoomItemChart"/>    </Field>    <Field t="control.PropertySheet" ID="_Property_Sheet" Title="Agent fields">      <Style t="properties.LMCPropertySheet"/>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">          <ShowCondition t="yesno.NotEmpty">            <Value t="data.IfThenElse" If="%$ProjectSettings/@overrideSiteAgentInfo%" Then="%$ProjectSettings/field%" Else="%$SiteSettings/metadata/field%"/>          </ShowCondition>        </OnCondition>      </FieldAspect>      <Field t="field.DynamicFields" ID="_DynamicFields" Title="Dyanmic Agent Fields">        <FieldItems t="data.IfThenElse" If="%$ProjectSettings/@overrideSiteAgentInfo%" Then="%$ProjectSettings/field%" Else="%$SiteSettings/metadata/field%"/>        <Field t="control.Layout" ID="_Group" Title="Group">          <Field t="fld.Field" Title="text" FieldData="%%">            <FieldType t="fld_type.EditableText">              <Style t="ui.CustomStyle" base="editable_text.LMCTextbox">                <Html><![CDATA[<input/>]]></Html>                <Css><![CDATA[#this {  border:1px solid #C8CCCF;  font-size:18px;  padding:0 6px;  height:38px;  width:369px;  background:#fff;  box-sizing:border-box;}.width_mobile_phone #this {  width:100\%;}#this:focus {  border-color:rgba(82, 168, 236, 0.8);  outline:0;  outline:thin dotted 9;  box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}#this.placeholder {  color:#8B8B8B;}#this.aa_error {  background:#fbebeb;  border:1px solid #feb2b2;  color:#ec643d !important;}#this.readonly {  background:#eee;}#this.readonly:focus {  box-shadow:none;  border-color:#C8CCCF;}]]></Css>                <Javascript><![CDATA[function(textbox) {  aa_jbart_textbox(textbox);  if ('%$ReadOnly%' == 'true')    textbox.$el.attr('readonly','true').addClass('readonly');}]]></Javascript>              </Style>            </FieldType>            <FieldAspect t="field_feature.HandleEvent">              <Event t="field_feature.Update"/>              <Action t="action.RunDelayedAction" ID="agent_info_history_%$_FieldItem/@name%" Milliseconds="5000">                <Action t="action.RunActions">                  <Action t="xml.AddXmlChildren" CloneChildren="false" AddAsFirst="" Parent="%$RoomAgentInfo/!history%">                    <Children t="xml.CreateXml" Tag="item">                      <Attribute Name="field" Value="%$_FieldItem/@name%"/>                      <Attribute Name="value" Value="%%"/>                      <Attribute Name="agent" Value="%$User/@name%"/>                      <Attribute Name="time">                        <Value t="data.Now"/>                      </Attribute>                    </Children>                  </Action>                  <Action t="field.RefreshField" FireOnUpdate="" FieldID="agent_info_history" Scope="screen"/>                </Action>              </Action>            </FieldAspect>            <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render">              <ShowCondition t="yesno.OR">                <Item value="%$_FieldItem/@type% == 'text'"/>                <Item value="%$_FieldItem/@type% == ''"/>              </ShowCondition>            </FieldAspect>          </Field>          <Field t="fld.Field" Title="picklist" ID="" FieldData="%%">            <FieldType t="fld_type.Picklist" AllowEmptyValue="true" AllowValueNotInOptions="">              <Options t="editable_picklist.OptionsByCommas" Options="%$_FieldItem/@options%"/>              <Style t="editable_picklist.LMCPicklist">                <Width t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="369px"/>              </Style>            </FieldType>            <FieldAspect t="field_feature.HandleEvent">              <Event t="field_feature.Update"/>              <Action t="action.RunDelayedAction" ID="agent_info_history_%$_FieldItem/@name%" Milliseconds="5000">                <Action t="action.RunActions">                  <Action t="xml.AddXmlChildren" CloneChildren="false" AddAsFirst="" Parent="%$RoomAgentInfo/!history%">                    <Children t="xml.CreateXml" Tag="item">                      <Attribute Name="field" Value="%$_FieldItem/@name%"/>                      <Attribute Name="value" Value="%%"/>                      <Attribute Name="agent" Value="%$User/@name%"/>                      <Attribute Name="time">                        <Value t="data.Now"/>                      </Attribute>                    </Children>                  </Action>                  <Action t="field.RefreshField" FireOnUpdate="" FieldID="agent_info_history" Scope="screen"/>                </Action>              </Action>            </FieldAspect>            <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%$_FieldItem/@type% == 'picklist'"/>          </Field>          <Layout t="layout.Default"/>          <FieldAspect t="field_aspect.Title" Title="%$_FieldItem/@name%"/>          <FieldAspect t="field_aspect.FieldData">            <FieldData t="data.Pipeline">              <Item value="%$RoomAgentInfo/!props/@{$ID}%"/>              <Var name="ID" t="text.ToId" Text="%$_FieldItem/@name%"/>            </FieldData>          </FieldAspect>        </Field>      </Field>    </Field>    <Field t="control.PropertySheet" ID="_Property_Sheet8" Title="Property Sheet1">      <Style t="properties.LMCPropertySheet"/>      <Field t="fld.Field" FieldData="%$RoomAgentInfo/!@text%" ID="info" Title="Remarks for agent">        <FieldType t="fld_type.EditableText">          <Style t="ui.CustomCss" base="editable_text.JBartMultiLine">            <Style t="editable_text.JBartMultiLine" Width="519px" Height="87px"/>            <Css><![CDATA[#this {  border:1px solid #C8CCCF;  font-size:13px;  padding:3px;  height:87px;  width:519px;  background: #fff;  box-sizing:border-box;}.lmc_agent_mobile #this {width:100\%;}#this:focus {  border-color:rgba(82, 168, 236, 0.8);  outline:0;  outline:thin dotted 9;  box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}]]></Css>          </Style>        </FieldType>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.Update"/>          <Action t="action.RunDelayedAction" ID="agent_info_history_remarks" Milliseconds="5000">            <Action t="action.RunActions">              <Action t="xml.AddXmlChildren" CloneChildren="false" AddAsFirst="" Parent="%$RoomAgentInfo/!history%">                <Children t="xml.CreateXml" Tag="item">                  <Attribute Name="field" Value="remarks"/>                  <Attribute Name="value" Value="%%"/>                  <Attribute Name="agent" Value="%$User/@name%"/>                  <Attribute Name="time">                    <Value t="data.Now"/>                  </Attribute>                </Children>              </Action>              <Action t="field.RefreshField" FireOnUpdate="" FieldID="agent_info_history" Scope="screen"/>            </Action>          </Action>        </FieldAspect>      </Field>      <Field t="fld.Field" FieldData="%$RoomAgentInfo/!@customerStatus%" ID="info1" Title="Customer Status">        <FieldType t="fld_type.Picklist" AllowEmptyValue="true" AllowValueNotInOptions="true">          <Options t="editable_picklist.DynamicOptions">            <Options t="data.Pipeline">              <Item t="data.IfThenElse" If="%$ProjectSettings/@overrideSiteAgentInfo%" Then="%$ProjectSettings/statuses%" Else="%$SiteSettings/metadata/statuses%"/>              <Item value="%status/@id%"/>            </Options>          </Options>          <Style t="editable_picklist.LMCPicklist">            <Width t="data.IfThenElse" If="%$IsMobile%" Else="519px" Then="100%"/>          </Style>        </FieldType>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.Load"/>          <Action t="action.RunActions" Condition="%$Room/@customerStatus% != ''">            <Action t="action.WriteValue" To="%$RoomAgentInfo/!@customerStatus%" Value="%$Room/@customerStatus%"/>            <Action t="action.WriteValue" To="%$Room/@customerStatus%"/>          </Action>        </FieldAspect>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.Update"/>          <Action t="operation.RunActions">            <Action t="xml.AddXmlChildren" CloneChildren="false" AddAsFirst="" Parent="%$RoomAgentInfo/!history%">              <Children t="xml.CreateXml" Tag="item">                <Attribute Name="field" Value="customer status"/>                <Attribute Name="value" Value="%%"/>                <Attribute Name="agent" Value="%$User/@name%"/>                <Attribute Name="time">                  <Value t="data.Now"/>                </Attribute>              </Children>            </Action>            <Action t="field.RefreshField" FireOnUpdate="" FieldID="agent_info_history" Scope="screen"/>          </Action>        </FieldAspect>      </Field>      <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%$ReadOnly% != 'true'"/>    </Field>    <Field t="control.PropertySheet" ID="_Property_Sheet81" Title="Read Only">      <Style t="ui.CustomCss" base="properties.LMCPropertySheet">        <Style t="properties.LMCPropertySheet"/>        <Css><![CDATA[#this>.aa_property>.aa_property_title {width: 150px;overflow: hidden;text-overflow: ellipsis;vertical-align: top;margin-top: 8px;font: 16px arial;color: #8E8E8E;}#this {} #this>.aa_property {  margin-bottom:20px;}#this>.aa_property:last-child {  margin-bottom:0px;}#this>.aa_property.aa_mandatory>.aa_property_title {  font-weight:bold;}#this>.aa_property>div {  display:block;}#this>.aa_property.aa_hiding_title>.aa_property_title {  display:none;}#this>.aa_property.aa_hiding_title>.aa_property_content {  display:block;}.lmc_agent_mobile #this .aa_property_content {display: block !important;}.aa_error_message {  display:block;  color:#C24343;  padding-top:3px;}#this>.aa_property>.aa_property_content>.aa_property_description {  padding-top:5px;  color:#8C8C8C;  font-style:italic;  font-size:11px;  white-space:normal;}]]></Css>      </Style>      <Field t="fld.Field" FieldData="%$RoomAgentInfo/!@text%" ID="info" Title="Remarks for agent">        <FieldType t="fld_type.Text">          <Style t="uitext.PlainText"/>        </FieldType>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.Update"/>          <Action t="action.RunDelayedAction" ID="agent_info_history_remarks" Milliseconds="5000">            <Action t="action.RunActions">              <Action t="xml.AddXmlChildren" CloneChildren="false" AddAsFirst="" Parent="%$RoomAgentInfo/!history%">                <Children t="xml.CreateXml" Tag="item">                  <Attribute Name="field" Value="remarks"/>                  <Attribute Name="value" Value="%%"/>                  <Attribute Name="agent" Value="%$User/@name%"/>                  <Attribute Name="time">                    <Value t="data.Now"/>                  </Attribute>                </Children>              </Action>              <Action t="field.RefreshField" FireOnUpdate="" FieldID="agent_info_history" Scope="screen"/>            </Action>          </Action>        </FieldAspect>      </Field>      <Field t="fld.Field" FieldData="%$RoomAgentInfo/!@customerStatus%" ID="info1" Title="Customer Status">        <FieldType t="fld_type.Text">          <Style t="uitext.PlainText"/>        </FieldType>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.Load"/>          <Action t="action.RunActions" Condition="%$Room/@customerStatus% != ''">            <Action t="action.WriteValue" To="%$RoomAgentInfo/!@customerStatus%" Value="%$Room/@customerStatus%"/>            <Action t="action.WriteValue" To="%$Room/@customerStatus%"/>          </Action>        </FieldAspect>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.Update"/>          <Action t="operation.RunActions">            <Action t="xml.AddXmlChildren" CloneChildren="false" AddAsFirst="" Parent="%$RoomAgentInfo/!history%">              <Children t="xml.CreateXml" Tag="item">                <Attribute Name="field" Value="customer status"/>                <Attribute Name="value" Value="%%"/>                <Attribute Name="agent" Value="%$User/@name%"/>                <Attribute Name="time">                  <Value t="data.Now"/>                </Attribute>              </Children>            </Action>            <Action t="field.RefreshField" FireOnUpdate="" FieldID="agent_info_history" Scope="screen"/>          </Action>        </FieldAspect>      </Field>      <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%$ReadOnly% == 'true'"/>    </Field>    <Field t="control.Layout" ID="agent_info_history" Title="History">      <Field t="control.Label" ID="_Label" Title="History">        <Style t="ui.CustomCss" base="uitext.Bold14">          <Style t="uitext.Bold14"/>          <Css><![CDATA[#this { font-weight: bold; color: #222; font-size: 12px;   font-family: arial; margin-bottom: 6px; }]]></Css>        </Style>      </Field>      <Field t="field.ItemList" Title="history" ID="items_table">        <View t="itemlist_style.JBartTable">          <MinWidth t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="519px"/>        </View>        <FieldAspect t="field_aspect.ItemListContainer">          <Items t="itemlist.Items">            <Items t="data.Pipeline">              <Item value="%$RoomAgentInfo/history/item%"/>              <Aggregator t="data.ReverseOrder"/>            </Items>          </Items>        </FieldAspect>        <FieldAspect t="itemlist_aspect.ItemSelection"/>        <FieldAspect t="itemlist_aspect.TableColumnDragAndDrop"/>        <FieldAspect t="itemlist_aspect.ShowTextWhenNoItems"/>        <Field t="fld.Field" ID="time" Title="Update time">          <FieldType t="fld_type.Text">            <Style t="uitext.PlainText"/>          </FieldType>          <FieldData t="text.MomentTimeFormat" Time="%@time%" Format="DD/MM/YYYY HH:mm"/>        </Field>        <Field t="fld.Field" FieldData="%@field%" ID="field" Title="Field">          <FieldType t="fld_type.Text">            <Style t="uitext.PlainText"/>          </FieldType>        </Field>        <Field t="fld.Field" FieldData="%@value%" ID="value" Title="Value">          <FieldType t="fld_type.Text">            <Style t="uitext.PlainText"/>          </FieldType>        </Field>        <Field t="fld.Field" FieldData="%@agent%" ID="agent" Title="Agent">          <FieldType t="fld_type.Text">            <Style t="uitext.PlainText"/>          </FieldType>        </Field>      </Field>      <Layout t="layout.Default"/>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">          <ShowCondition t="yesno.NotEmpty">            <Value value="%$RoomAgentInfo/history/item%"/>          </ShowCondition>        </OnCondition>      </FieldAspect>    </Field>  </xtml></Component><Component id="RoomActivity" type="jbart.MyWidgetPage">  <xtml t="control.Layout" ID="layout" Title="">    <Field t="field.ItemList" Title="logs" ID="cobrowse_logs">      <View t="ui.CustomCss" base="itemlist_style.JBartTableNoHeader">        <Style t="itemlist_style.JBartTableNoHeader">          <MinWidth t="data.IfThenElse" If="%$IsMobile%" Then="100%" Else="540px"/>        </Style>        <Css><![CDATA[#this {position:relative;}#this >table {  width:100\%;}#this>table>tbody>tr>td {  vertical-align:middle;  color:#404040;  border-collapse:collapse;  border-spacing:0px;}tbody>tr:first-child .group_title {  margin-top:0 !important;}]]></Css>      </View>      <FieldAspect t="field_aspect.ItemListContainer">        <Items t="lmc.CustomerActivityLogItems" RoomID="%$Room/@id%" RoodID="%$Room/@id%"/>      </FieldAspect>      <Field t="control.Layout" ID="_Group" Title="Icon">        <Field t="field.Image" ID="_Image4" Title="icon">          <Image t="image.ImageInSprite" Url="_jbartImages_/LetMeSee/lmc_sprite-25.png?v=1108" Size="25,25">            <PositionInSprite t="text.FirstSucceeding">              <Item value="25,75" Condition="%Event/type% == 'view'"/>              <Item value="0,75" Condition="%Event/type% == 'jumped'"/>              <Item value="100,75" Condition="%Event/type% == 'agentInvitation'"/>              <Item value="125,75" Condition="%Event/type% == 'youtube_playing'"/>              <Item value="150,75" Condition="%Event/type% == 'printItem'"/>              <Item value="175,75" Condition="%Event/type% == 'callme'"/>              <Item value="75,75">                <Condition t="yesno.And">                  <Item value="%Event/type% == 'join'"/>                  <Item value="%Event/args/width% != ''"/>                  <Item value="%Event/args/width% &gt; 450"/>                </Condition>              </Item>              <Item value="50,75">                <Condition t="yesno.And">                  <Item value="%Event/type% == 'join'"/>                  <Item value="%Event/args/width% != ''"/>                  <Item value="%Event/args/width% &lt;= 450"/>                </Condition>              </Item>              <Item value="50,75" Condition="%Event/type% == 'join'"/>            </PositionInSprite>          </Image>          <Style t="image.PlainImage"/>        </Field>        <Layout t="ui.CustomCss" base="layout.Default">          <Style t="layout.Default"/>          <Css><![CDATA[#this { width: 25px; height: 25px; overflow: hidden;   position: relative; }]]></Css>        </Layout>      </Field>      <Field t="control.Button" ID="_Button881" Title="Text" HideTitle="true">        <Style t="ui.CustomStyle" base="btn.Hyperlink">          <Html><![CDATA[<span />]]></Html>          <Css><![CDATA[#this {  cursor:pointer;  text-decoration:none;  font-family:arial;}#this:hover {  text-decoration:underline;}.duration {  font-weight:bold;}]]></Css>          <Javascript><![CDATA[function render(button) {  aa_button(button,{ allowHtmlInButtonText: true });}]]></Javascript>        </Style>        <Action t="action.RunActions">          <Action t="lmc.GotoLogEventLocation" Event="%Event%"/>          <Action t="action.ActionByCondition">            <Condition t="yesno.And">              <Item value="%Event/command% == 'agentInvitation'"/>              <Item value="%Event/args/type% == 'sms'"/>            </Condition>            <Action t="popup.OpenPopup">              <Style t="popup.PicklistPopup"/>              <Contents t="field.InnerPage">                <Layout t="layout.Default"/>                <Field t="control.Label" ID="_Label" Title="sms content" Text="%Event/args/body%">                  <Style t="ui.CustomCss" base="uitext.PlainText">                    <Style t="uitext.PlainText"/>                    <Css><![CDATA[#this { padding: 7px; }]]></Css>                  </Style>                </Field>              </Contents>            </Action>          </Action>        </Action>        <ButtonText t="data.Pipeline">          <Var name="Duration" t="lmc.FormatEventDuration" DurationInMillis="%Event/duration%"/>          <Item value="%Text%"/>          <Item t="lmc.ReplaceVariableFields" RoomXml="%$Room%"/>          <Item t="data.IfThenElse" If="%$Duration% != ''" Then="%% &lt;span class=&quot;duration&quot;&gt;‎(%$Duration%)&lt;/span&gt;" Else="%%"/>        </ButtonText>      </Field>      <Field t="control.Label" ID="Time" Title="Time">        <Style t="ui.CustomCss" base="uitext.PlainText">          <Style t="uitext.PlainText"/>          <Css><![CDATA[#this {}.delay {  color: #7e7e7e;}]]></Css>        </Style>        <Text t="data.Pipeline">          <Var name="Delay" t="data.Pipeline">            <Item value="%Delay%"/>            <Item t="data.Math" Expression="Math.max(%% / 1000,0)" FixFloatingPointResult="true"/>            <Item t="text.Split" Separator="." Part="First"/>            <Item value="&lt;br&gt;&lt;span class=&quot;delay&quot;&gt;(%% sec delay)&lt;/span&gt;"/>          </Var>          <Item t="text.MomentTimeFormat" Time="%Time%" Format="HH:mm:ss"/>          <Item value="%% %$Delay%"/>        </Text>      </Field>      <FieldAspect t="itemlist_aspect.UpdateOnAddOrDeleteItem"/>      <FieldAspect t="itemlist_aspect.ShowTextWhenNoItems" Text="The customer has not joined the room yet.">        <Style t="text_as_item.Default"/>      </FieldAspect>      <FieldAspect t="itemlist_aspect.GroupItems">        <Style t="ui.CustomStyle" base="items_group.Default">          <Html><![CDATA[<tr><td colspan="3"><div class="group_title"/>  </td></tr>]]></Html>          <Css><![CDATA[.group_title {  color:#4a5056;  font:bold 13px arial;  margin-bottom:10px;  margin-top:15px;}]]></Css>          <Javascript><![CDATA[function(group) {  var jElem = jQuery(group.control);      jElem.find('.group_title').html( group.text );}]]></Javascript>        </Style>        <GroupOfItem t="text.MomentTimeFormat" Time="%Time%" Format="dddd DD/MM/YY"/>      </FieldAspect>      <FieldAspect t="lmc.LMCCalcVisitorIDColors"/>      <Field t="control.CustomControl" ID="_Custom_control" Title="Circle">        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.AfterRenderingControl"/>          <Action t="operation.RunActionInJavascript">            <Code><![CDATA[function run(data,context) { var appContext = aa_var_first(context,'_AppContext'); var visitorID = data[0].Event.args.visitorID; var color = appContext.lmcCustomerEvents.colors[visitorID] || 'transparent';   $(context.vars.ControlElement).css('background',color); $(context.vars.ControlElement)[0].jbActivityColor = color; $(context.vars.ControlElement)[0].jbLMCEvent = data[0].Event;   if (color != 'transparent') {   $(context.vars.ControlElement).attr('title','Different colors represent different devices'); }}]]></Code>          </Action>        </FieldAspect>        <Control t="ui.CustomStyle">          <Html><![CDATA[<div class="activity_circle" />]]></Html>          <Css><![CDATA[#this { height: 6px; width: 6px; border-radius: 14px;   margin-left: 10px; }]]></Css>          <Javascript><![CDATA[function render(object) {/* Use object.el or object.$el to change the element */  }]]></Javascript>        </Control>      </Field>      <FieldAspect t="field_feature.HandleEvent">        <Event t="field_feature.AfterRenderingControl"/>        <Action t="operation.RunActionInJavascript">          <Code><![CDATA[function run(data,context) {  setTimeout(function() {    aa_lmc_drawActivityLines(context);  },10);}]]></Code>        </Action>      </FieldAspect>    </Field>    <Layout t="ui.CustomCss" base="layout.Default">      <Style t="layout.Default"/>      <Css><![CDATA[#this {  position:relative;}.lmc_refresh_activity {  display:none;}#this:hover .lmc_refresh_activity {  display:block;}.lmc_agent_mobile #this .lmc_refresh_activity {  display:block;}]]></Css>    </Layout>    <FieldAspect t="field_feature.HandleEvent">      <Event t="field_feature.AfterRenderingControl"/>      <Action t="lmc.RefreshCustomerActivity"/>    </FieldAspect>  </xtml></Component><Component id="AgentTabControl" type="jbart.MyWidgetPage">  <xtml t="control.Layout" ID="agent_accordion_top" Title="Agent Desk">    <Field t="control.TabControl" ID="Agent_room_tab" Title="Tab Control">      <Style t="ui.CustomCss" base="tabs.LMCTabs">        <Style t="tabs.LMCTabs"/>        <Css><![CDATA[#this>.aatabs_tabs {  position:absolute;  top:40px;  left:0;  right:0;  background:#fff;  border-bottom:1px solid #CCD7DD;}#this >div>div.aatabs_tab {  cursor:pointer;  float:left;  min-width:100px;  margin-left:12px;}#this >div>div>div.aatabs_tab_text {  font-family:'Noto Sans';  text-align:center;  color:#999;  font-weight:bold;  font-size:13px;  padding:5px 0px 8px 0px;}#this >div>div.aatabs_tab.aa_selected_tab {  border-bottom:3px solid #47BAC1;}#this >div>div.aatabs_tab.aa_selected_tab .aatabs_tab_text {  color:#4a5056;}#this.lmc_has_room>.aatabs_contents {  width:540px;}#this.lmc_no_room>.aatabs_contents {  right:0;}#this >.aatabs_contents {  position:absolute;  top:80px;  bottom:0;  left:0;  overflow:auto;  padding:20px 20px 20px 20px;}#this >.aatabs_contents::-webkit-scrollbar {  width:10px;  height:10px;}#this >.aatabs_contents::-webkit-scrollbar-thumb {  background:#76D3D7;}#this >.aatabs_contents::-webkit-scrollbar-track {  background:transparent;}.lmc_manager #this >.aatabs_contents::-webkit-scrollbar-thumb {  background:#A1C1AB;}]]></Css>      </Style>      <Field t="control.Layout" ID="RoomContent" Title="Content">        <Layout t="ui.CustomCss" base="layout.Vertical">          <Style t="layout.Vertical" Spacing="9px"/>          <Css><![CDATA[#this { width: 520px; }#this >.field:not(:last-child) { margin-bottom: 9px; }]]></Css>        </Layout>        <Style t="section.Default"/>        <Field t="lmc.ContentEditor" ItemsTop="%$Room/!items%"/>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%$Room/@id% != ''"/>        </FieldAspect>      </Field>      <Field t="control.Layout" ID="CustomerGroup" Title="Invite">        <Layout t="ui.CustomCss" base="layout.Vertical">          <Style t="layout.Vertical" Spacing="15px"/>          <Css><![CDATA[#this { width: 520px; }#this >.field:not(:last-child) { margin-bottom: 15px; }]]></Css>        </Layout>        <Field t="control.Page" ID="_Link_to_page5" Title="Link to page">          <Page t="lmc.TabOfInvite"/>        </Field>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">            <ShowCondition t="yesno.And">              <Item value="%$Room/@isTemplate% != 'true'"/>              <Item value="%$Room/@id% != ''"/>            </ShowCondition>          </OnCondition>        </FieldAspect>      </Field>      <Field t="control.Layout" ID="Statistics" Title="Room">        <Layout t="layout.Vertical" Spacing="0"/>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">            <ShowCondition t="yesno.And">              <Item value="%$Room/@isTemplate% != 'true'"/>              <Item value="%$Room/@id% != ''"/>            </ShowCondition>          </OnCondition>        </FieldAspect>        <Field t="control.Page" ID="_Link_to_page2" Title="Tab of room">          <Page t="lmc.TabOfRoom"/>        </Field>      </Field>      <Field t="control.Layout" ID="_Tab" Title="Template">        <Layout t="layout.Vertical" Spacing="10px"/>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionOnce" ShowCondition="%$Room/@isTemplate% == 'true'"/>        </FieldAspect>        <Field t="control.PropertySheet" ID="_Property_Sheet2" Title="Property Sheet1">          <Style t="properties.LMCPropertySheet"/>          <Field t="fld.Field" ID="Customer_Name" Title="Template name" FieldData="%!@name%">            <FieldType t="fld_type.EditableText">              <Style t="editable_text.LMCTextbox"/>            </FieldType>            <FieldAspect t="field_feature.HandleEvent">              <Event t="field_feature.Update"/>              <Action t="action.RunActions">                <Action t="action.WriteValue" To="%$RoomHeaders/*[#{../@id}]/!@name%" Value="%%"/>                <Action t="uiaction.UpdateBrowserTitle" Title="%% by LetMeSee"/>                <Action t="field.RefreshField" FireOnUpdate="" FieldID="RoomName,rooms_list" Scope="screen"/>              </Action>            </FieldAspect>          </Field>        </Field>        <Field t="control.Label" ID="_Label" Title="text" Text="To invite a customer to a template, you need to create a room for the customer.">          <Style t="uitext.PlainText"/>          <FieldAspect t="field_feature.Layout">            <Css><![CDATA[#this { margin-top: 18px; margin-left: px; }]]></Css>          </FieldAspect>        </Field>        <Field t="control.Button" ID="_Button2" Title="New Room" HideTitle="true" ButtonText="Create a new room based on '%!@name%'">          <Style t="btn.LMCHyperlink"/>          <FieldAspect t="field_feature.Layout">            <Css><![CDATA[#this { display: inline-block; margin-top: 7px;   margin-left: 0; }#wrapper { }]]></Css>          </FieldAspect>          <Action t="lmc.OpenNewRoomPopup" Template="%$Room/@id%"/>        </Field>      </Field>      <Field t="control.Layout" ID="customer_activity_tab" Title="Activity">        <Layout t="ui.CustomCss" base="layout.Vertical">          <Style t="layout.Vertical" Spacing=""/>          <Css><![CDATA[#this { width: 533px; }#this >.field:not(:last-child) { margin-bottom: ; }]]></Css>        </Layout>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">            <ShowCondition t="yesno.And">              <Item value="%$Room/@isTemplate% != 'true'"/>              <Item value="%$Room/@id% != ''"/>            </ShowCondition>          </OnCondition>        </FieldAspect>        <Field t="control.Page" ID="_Link_to_page2" Title="Activity">          <Page t="lmc.RoomActivity"/>        </Field>      </Field>      <FieldAspect t="fld_aspect.TabControlProperties" RefreshTabsOnSelect="true" KeepHiddenTabInTheDOM="false">        <KeepSelectedTab t="prefstorage.SessionStorage" KeyPrefix="agent_tab"/>        <DoOnTabChange t="lmc.TrackUserAction" Type="change_tab" Text="%$NewTab/Title%" MoreInfo="%$Prefix%=%$Room/@customerName%" Condition="%$OriginatedByUser%">          <Var name="Prefix" t="data.IfThenElse" If="%$Room/@isTemplate%" Then="template" Else="customer"/>        </DoOnTabChange>      </FieldAspect>      <Field t="control.Layout" ID="Customers_table" Title="Live Customers">        <Layout t="layout.Default"/>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">            <ShowCondition t="yesno.And">              <Item value="%$Room/@id% == ''"/>              <Var name="LMCPage" t="ui.UrlFragment" Attribute="lmcpage"/>              <Item value="%$LMCPage% == 'rooms_list'"/>            </ShowCondition>          </OnCondition>        </FieldAspect>        <FieldAspect t="field_aspect.Title" Title="Live"/>        <Field t="control.Page" ID="_Link_to_page5" Title="Rooms">          <Page t="lmc.RoomsTable" IsManager="" IsArchive="">            <Rooms t="data.Pipeline">              <Item t="lmc.LMCRoomsInHeaders"/>              <Item t="yesno.PassesFilter" Filter="%@isTemplate% != 'true'"/>            </Rooms>          </Page>        </Field>        <FieldAspect t="field_feature.HandleEvent">          <Event t="field_feature.AfterRenderingControl"/>          <Action t="lmc.RefreshLMCHeaders" FieldToRefreshOnUpdate="rooms_cntr"/>        </FieldAspect>      </Field>      <Field t="control.Layout" ID="Customer_archive" Title="Archive">        <Layout t="layout.Default"/>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">            <ShowCondition t="yesno.And">              <Item value="%$Room/@id% == ''"/>              <Var name="LMCPage" t="ui.UrlFragment" Attribute="lmcpage"/>              <Item value="%$LMCPage% == 'rooms_list'"/>            </ShowCondition>          </OnCondition>        </FieldAspect>        <Field t="control.Layout" ID="_Group" Title="Group">          <Field t="control.Layout" ID="_Group" Title="Load">            <Field t="control.Page" ID="_Link_to_page5" Title="rooms">              <Page t="lmc.RoomsTable" IsManager="" IsArchive="true" Rooms="%$ArchiveHeaders/*%"/>            </Field>            <Layout t="layout.Vertical" Spacing="30px"/>            <FieldAspect t="async.AsyncActionBeforeLoad" ShowLoadingTextInStudio="">              <LoadingStyle t="loading_style.Default" Height="100px"/>              <Action t="lmc.LoadRoomArchiveHeaders">                <DoWithHeaders t="xml.ReplaceXmlChildren" CloneChildren="true" Children="%*%" Parent="%$ArchiveHeaders%"/>              </Action>            </FieldAspect>            <Field t="control.Button" ID="_Button" Title="Recalculate archived rooms">              <Style t="btn.LMCHyperlink"/>              <Action t="async.RunAsyncActions" StopOnError="true">                <Action t="lmc.LMCRecreateArchiveHeaders"/>                <Action t="field.RefreshField" FireOnUpdate="" FieldID="Customer_archive" Scope="screen"/>                <ProgressStyle t="async_ui.ChangeCursorForProgress"/>              </Action>            </Field>          </Field>          <Layout t="layout.Default"/>        </Field>        <FieldAspect t="field_aspect.Variable" VarName="ArchiveHeaders">          <Value t="xml.Xml"/>        </FieldAspect>      </Field>      <Field t="control.Layout" ID="Customer_archive1" Title="All">        <Layout t="layout.Default"/>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">            <ShowCondition t="yesno.And">              <Item value="%$Room/@id% == ''"/>              <Var name="LMCPage" t="ui.UrlFragment" Attribute="lmcpage"/>              <Item value="%$LMCPage% == 'rooms_list'"/>            </ShowCondition>          </OnCondition>        </FieldAspect>        <Field t="control.Layout" ID="_Group" Title="Load">          <Field t="control.Page" ID="_Link_to_page5" Title="rooms">            <Page t="lmc.RoomsTable" IsManager="" IsArchive="false" IsRoomClickable="false">              <Rooms t="data.Pipeline">                <Item t="data.List">                  <Item value="%$ArchiveHeaders/*%"/>                  <Item t="lmc.LMCRoomsInHeaders"/>                </Item>                <Item t="yesno.PassesFilter" Filter="%@isTemplate% != 'true'"/>              </Rooms>            </Page>          </Field>          <Layout t="layout.Vertical" Spacing="30px"/>          <FieldAspect t="async.AsyncActionBeforeLoad" ShowLoadingTextInStudio="">            <LoadingStyle t="loading_style.Default" Height="100px"/>            <Action t="lmc.LoadRoomArchiveHeaders">              <DoWithHeaders t="xml.ReplaceXmlChildren" CloneChildren="true" Children="%*%" Parent="%$ArchiveHeaders%"/>            </Action>          </FieldAspect>        </Field>        <FieldAspect t="field_aspect.Variable" VarName="ArchiveHeaders">          <Value t="xml.Xml"/>        </FieldAspect>      </Field>      <Field t="control.Layout" ID="Customer_archive2" Title="Reports">        <Layout t="layout.Default"/>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">            <ShowCondition t="yesno.And">              <Item value="%$Room/@id% == ''"/>              <Var name="LMCPage" t="ui.UrlFragment" Attribute="lmcpage"/>              <Item value="%$LMCPage% == 'rooms_list'"/>            </ShowCondition>          </OnCondition>        </FieldAspect>        <Field t="control.Layout" ID="_Group" Title="Load">          <Field t="control.Page" ID="_Link_to_page5" Title="rooms">            <Page t="lmc.LMCRoomsReports" IsManager="" IsArchive="false" IsRoomClickable="false">              <Rooms t="data.Pipeline">                <Item t="data.List">                  <Item value="%$ArchiveHeaders/*%"/>                  <Item t="lmc.LMCRoomsInHeaders"/>                </Item>                <Item t="yesno.PassesFilter" Filter="%@isTemplate% != 'true'"/>              </Rooms>            </Page>          </Field>          <Layout t="layout.Vertical" Spacing="30px"/>          <FieldAspect t="async.AsyncActionBeforeLoad" ShowLoadingTextInStudio="">            <LoadingStyle t="loading_style.Default" Height="100px"/>            <Action t="lmc.LoadRoomArchiveHeaders">              <DoWithHeaders t="xml.ReplaceXmlChildren" CloneChildren="true" Children="%*%" Parent="%$ArchiveHeaders%"/>            </Action>          </FieldAspect>        </Field>        <FieldAspect t="field_aspect.Variable" VarName="ArchiveHeaders">          <Value t="xml.Xml"/>        </FieldAspect>      </Field>      <Field t="control.Layout" ID="LMC_newsfeed" Title="News">        <Layout t="layout.Default"/>        <FieldAspect t="field_aspect.Hidden">          <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">            <ShowCondition t="yesno.And">              <Item value="%$Room/@id% == ''"/>              <Var name="LMCPage" t="ui.UrlFragment" Attribute="lmcpage"/>              <Item value="%$LMCPage% == 'news'"/>            </ShowCondition>          </OnCondition>        </FieldAspect>        <Field t="control.Layout" ID="_Group" Title="Group">          <Field t="lmc.AgentNews" ID="_AgentNews" Title="AgentNews" IsManager=""/>          <Layout t="layout.Default"/>          <FieldAspect t="field_feature.HandleEvent">            <Event t="field_feature.AfterRenderingControl"/>            <Action t="lmc.RefreshLMCHeaders" FieldToRefreshOnUpdate="news_cntr" UpdateMessgae="News feed updated"/>          </FieldAspect>        </Field>        <FieldAspect t="field_aspect.Title" Title="News"/>      </Field>      <FieldAspect t="field_feature.CssClass" AddClassTo="content" ClassName="lmc_has_room" ConditionForClass="%$Room/@id% != ''"/>      <FieldAspect t="field_feature.CssClass" AddClassTo="content" ClassName="lmc_no_room" ConditionForClass="%$Room/@id% == ''"/>    </Field>    <Layout t="ui.CustomCss" base="layout.Default">      <Style t="layout.Default"/>      <Css><![CDATA[]]></Css>    </Layout>  </xtml></Component><Component id="DefaultSMSText" type="data.Data">  <xtml value="Hi {customer first name},&#xa;Please see your customer room:&#xa;{URL}&#xa;" /></Component><Component id="Embed" type="jbart.MyWidgetPage">  <xtml t="control.Layout" ID="embed" Title="Agent Embed">    <Layout t="layout.Default"/>    <Field t="control.Layout" ID="_Vertical_Layout" Title="Item Chart">      <Layout t="layout.Vertical" Spacing="0"/>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%$EmbedConfig/@type% == 'room_item_chart'"/>      </FieldAspect>      <Field t="control.Page" ID="_Link_to_page2" Title="Chart">        <Page t="lmc.RoomItemChart"/>      </Field>    </Field>    <Field t="control.Layout" ID="_Vertical_Layout1" Title="Preview">      <Layout t="ui.CustomCss" base="layout.Vertical">        <Style t="layout.Vertical" Spacing="0"/>        <Css><![CDATA[#this {  max-width:450px;}#this >.field:not(:last-child) {  margin-bottom:0;}]]></Css>      </Layout>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%$EmbedConfig/@type% == 'room_preview'"/>      </FieldAspect>      <Field t="control.Page" ID="_Link_to_page2" Title="mobile">        <Page t="lmc.MobileView" DoNotShowDetails=""/>      </Field>    </Field>    <Field t="control.Layout" ID="_Vertical_Layout2" Title="Activity">      <Layout t="ui.CustomCss" base="layout.Vertical">        <Style t="layout.Vertical" Spacing="0"/>        <Css><![CDATA[#this {max-width:450px;} #this >.field:not(:last-child) { margin-bottom: 0; }    ]]></Css>      </Layout>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%$EmbedConfig/@type% == 'activity'"/>      </FieldAspect>      <Field t="control.Page" ID="_Link_to_page2" Title="activity">        <Page t="lmc.RoomActivity"/>      </Field>    </Field>    <Field t="control.Layout" ID="_Vertical_Layout3" Title="Feed">      <Layout t="ui.CustomCss" base="layout.Vertical">        <Style t="layout.Vertical" Spacing="0"/>        <Css><![CDATA[#this {max-width:450px;} #this >.field:not(:last-child) { margin-bottom: 0; }    ]]></Css>      </Layout>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%$EmbedConfig/@type% == 'room_feed'"/>      </FieldAspect>      <Field t="control.TabControl" ID="_Tab_Control" Title="Tab Control">        <Style t="tabs.LMCDialogTabs" HeightMargin="70" MaxHeight="0" MinHeight="200"/>        <Field t="control.Layout" ID="_Tab" Title="Room">          <Layout t="layout.Default"/>          <Field t="control.Page" ID="_Link_to_page5" Title="Link to page">            <Page t="lmc.TabOfRoom" ReadOnly="true"/>          </Field>        </Field>        <Field t="control.Layout" ID="_Tab1" Title="Activity">          <Layout t="layout.Default"/>          <Field t="control.Page" ID="_Link_to_page2" Title="activity">            <Page t="lmc.RoomActivity"/>          </Field>        </Field>        <FieldAspect t="fld_aspect.TabControlProperties" RefreshTabsOnSelect="true" KeepHiddenTabInTheDOM="false">          <KeepSelectedTab t="prefstorage.SessionStorage" KeyPrefix="lmc_embed_tab"/>        </FieldAspect>      </Field>      <Field t="control.Layout" ID="Content_Preview" Title="Content Preview">        <Layout t="ui.CustomCss" base="layout.Default">          <Style t="layout.Default"/>          <Css><![CDATA[#this {}]]></Css>        </Layout>        <FieldAspect t="field_feature.Css">          <Css><![CDATA[#this>.aa_visual_container {  top:0px;  right:0px;  bottom:0;  position:absolute !important;  overflow-y:auto;  overflow-x:hidden;  z-index:5;  border:1px solid #CCD7DD;  background:#fff;}#this>.aa_visual_container::-webkit-scrollbar {  width:8px; height: 8px;}#this>.aa_visual_container::-webkit-scrollbar-thumb {  background:#BBB;}#this>.aa_visual_container::-webkit-scrollbar-track {  background:transparent;}]]></Css>        </FieldAspect>        <FieldAspect t="field_aspect.VisualContainer" ID="cobrowse_main_cntr" HeightByCss="true">          <Style t="ui.CustomCss" base="visual_container.SimpleSkin">            <Style t="visual_container.SimpleSkin"/>            <Css><![CDATA[#this {}]]></Css>          </Style>          <Width t="img.FixedWidth" Width="450"/>        </FieldAspect>        <Field t="control.Page" ID="_Link_to_page1" Title="Mobile">          <Page t="sample.Mobile"/>        </Field>      </Field>    </Field>  </xtml></Component><Component id="LMCEditParagraph" type="jbart.MyWidgetPage">  <Param name="InMainMenu" type="data.Boolean"/>  <Param name="ReadOnly" type="data.Boolean"/>  <xtml t="control.Layout" ID="Paragraph" Title="">    <Layout t="ui.CustomCss" base="layout.Default">      <Style t="layout.Default"/>      <Css><![CDATA[#this {  width:140px;  height:82px;  position:relative;}]]></Css>    </Layout>    <Field t="fld.Field" FieldData="%!@image%" ID="image" Title="Image">      <FieldType t="img_type.Image">        <Image t="img.Image" Url="%%">          <AdjustSize t="img.Center" RightToLeft=""/>          <FrameWidth t="img.FixedWidth" Width="80"/>          <FrameHeight t="img.FixedHeight" Height="60"/>        </Image>        <Style t="ui.CustomCss" base="image_style.Default">          <Style t="image_style.Default"/>          <Css><![CDATA[#this {}]]></Css>        </Style>      </FieldType>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Field data" WhenHidden="Do not render">          <ShowCondition t="yesno.NotEmpty"/>        </OnCondition>      </FieldAspect>    </Field>    <Field t="fld.Field" FieldData="%@video%" ID="image" Title="Video">      <FieldType t="img_type.Image">        <Image t="img.Image">          <AdjustSize t="img.Center" RightToLeft=""/>          <FrameWidth t="img.FixedWidth" Width="80"/>          <FrameHeight t="img.FixedHeight" Height="60"/>          <Url t="data.Pipeline">            <Item value="http://img.youtube.com/vi/%$Key%/0.jpg"/>            <Var name="Key" t="text.FirstSucceeding">              <Item t="youtube.ExtractYoutubeKey"/>              <Item value="%%"/>            </Var>          </Url>        </Image>        <Style t="ui.CustomCss" base="image_style.Default">          <Style t="image_style.Default"/>          <Css><![CDATA[#this {  position:absolute;  top:0px;  left:0px;}]]></Css>        </Style>        <DefaultImage t="img.Image" Url="_jbartImages_/LetMeSee/empty_image.png">          <AdjustSize t="img.Center" RightToLeft=""/>          <FrameWidth t="img.FixedWidth" Width="80"/>          <FrameHeight t="img.FixedHeight" Height="60"/>        </DefaultImage>      </FieldType>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'youtube'">&#xa;                  </OnCondition>      </FieldAspect>    </Field>    <Field t="control.Label" ID="_Label6" Title="Text" Text="%@text%">      <Style t="ui.CustomCss" base="uitext.PlainText">        <Style t="uitext.PlainText"/>        <Css><![CDATA[#this {  position:absolute;  top:0px;  left:0px;  height:58px;  width:80px;  overflow:hidden;  font-size:9px;  padding:3px;  box-sizing:border-box;}]]></Css>      </Style>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'text'">&#xa;                  </OnCondition>      </FieldAspect>    </Field>    <Field t="control.Label" ID="_Label7" Title="image text" Text="%@text%">      <Style t="ui.CustomCss" base="uitext.PlainText">        <Style t="uitext.PlainText"/>        <Css><![CDATA[#this {  overflow:hidden;  font-size:12px;  text-align:center;  margin-left:-30px;  width:140px;}]]></Css>      </Style>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">          <ShowCondition t="yesno.And">            <Item value="%@text% != ''"/>            <Item value="%@type% == 'image' || %@type% == 'youtube'"/>            <Item value="%$InMainMenu% == 'true'"/>          </ShowCondition>        </OnCondition>      </FieldAspect>    </Field>    <Field t="control.Label" ID="_Label6" Title="Html">      <Style t="ui.CustomCss" base="uitext.PlainText">        <Style t="uitext.PlainText"/>        <Css><![CDATA[#this {  position: absolute;  top: 0px;  left: 0px;  height: 58px;  width: 80px;  overflow: hidden;  font-size: 9px;  padding:3px;  box-sizing:border-box;}]]></Css>      </Style>      <FieldAspect t="field_aspect.Hidden">        <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render">          <ShowCondition t="yesno.And">            <Item t="yesno.IsInList" Item="%@type%">              <List t="data.List">                <Item value="rich text"/>                <Item value="html"/>              </List>            </Item>          </ShowCondition>        </OnCondition>      </FieldAspect>      <Text t="data.Pipeline">        <Item t="text.FirstSucceeding">          <Item value="%html%"/>          <Item value="%@html%"/>        </Item>        <Item t="parser.RemoveHtmlTags"/>      </Text>    </Field>    <FieldAspect t="field_feature.HandleEvent">      <Event t="field_feature.Click"/>      <Action t="action.RunActions" Condition="%$ReadOnly% != 'true'">        <Action t="action.RunActions">          <Condition t="yesno.And">            <Item t="yesno.NotEmpty" Value="%@html%"/>            <Item t="yesno.IsEmpty" Value="%html%"/>          </Condition>          <Action t="xml.WriteCData" Element="%!html%" CDataText="%@html%"/>          <Action t="action.WriteValue" To="%@html%"/>        </Action>        <Action t="popup.OpenPopup" PopupTitle="Edit Paragraph">          <Style t="popup.LMCDialog" Opacity="light"/>          <Contents t="field.InnerPage">            <Layout t="layout.Vertical" Spacing="7px"/>            <Field t="control.Label" ID="_Label" Title="Paragraph type">              <Style t="ui.CustomCss" base="uitext.PlainText">                <Style t="uitext.PlainText"/>                <Css><![CDATA[#this { color: #666; font-size: 14px; }]]></Css>              </Style>            </Field>            <Field t="fld.Field" FieldData="%!@type%" ID="type" Title="Type">              <FieldType t="fld_type.Picklist" AllowEmptyValue="" AllowValueNotInOptions="">                <Options t="editable_picklist.OptionsByCommas" Options="text,rich text,youtube,html,image,property sheet,price quote,grid,call me button"/>                <Style t="editable_picklist.LMCPicklist" Width="354px"/>              </FieldType>              <FieldAspect t="field_aspect.RefreshDependentFields" FieldsIds="internal_fields" RefreshOn="every click" RefreshScope="screen"/>              <FieldAspect t="field_feature.Css">                <Css><![CDATA[#this { margin-bottom: 19px; }]]></Css>              </FieldAspect>            </Field>            <Field t="control.Layout" ID="internal_fields" Title="Fields">              <Layout t="layout.Vertical" Spacing="0"/>              <Field t="control.PropertySheet" ID="internal_fields1" Title="Property Sheet">                <Style t="ui.CustomCss" base="properties.TitlesAboveFields">                  <Style t="properties.TitlesAboveFields" HorizontalSpacing="15px" VerticalSpacing="8px"/>                  <Css><![CDATA[#this>.aa_property {}#this>.aa_property:not(:first-child) {  padding-left1:15px;}#this>.aa_property>.aa_property_title {  padding-bottom:3px;  color:#666;  font-weight:bold;  font-size:11px;  font-family:"lucida grande", tahoma, verdana, arial, sans-serif;}#this>.aa_property>.aa_property_content {  vertical-align:top;  padding-bottom:8px;}#this {  min-width1:361px;}]]></Css>                </Style>                <Field t="fld.Field" FieldData="%!@image%" ID="Image" Title="Image">                  <FieldType t="img_type.EditableImage" EmptyImageURL="%$_Images%/LetMeSee/item_image.png" FieldDataForImageWidth="%!../@imageWidth%" FieldDataForImageHeight="%!../@imageHeight%">                    <AdjustSizeForPreview t="img.Fill"/>                    <Style t="ui.CustomStyle" base="editableimage_style.EditInPopup">                      <Html><![CDATA[<div class="image_drop_area">  <div class="aa_drop_sink_mask">drop image here ...</div>  <div class="main_image_wrapper">    <div class="drop_here">Drop Here</div>    <div class="plus">+</div>  </div></div>]]></Html>                      <Css><![CDATA[#this {  width: 150px;  height: 92px;}#this .main_image_wrapper {  cursor:pointer;  border:2px solid white;  display:inline-block;}#this .main_image_wrapper.aa_empty_image {  border:1px solid #ccc;  background:#eee;}.aa_drop_sink_mask {  z-index:99;  margin:-2px;  display:none;  position:absolute;  border-width:4px;  border-style:dashed;  border-color:#43ff2e;  font-size:16px;  font-family:'Comic Sans MS', cursive;  text-align:center;}#this.uploading .aa_image {  display:none;}#this.uploading .main_image_wrapper:after {  content:'Uploading...';  display:block;  position:absolute;  top:40\%;  left:0;  right:0;  text-align:center;  color:#ACA5A8;}.image_drop_area:active {  opacity:0.8;}.plus {  display:none;}.drop_here {  display:none;}.aa_empty_image .plus {  display:block;  margin-top:-13px;  margin-left:32px;  color:#cccccc;  padding-left:28px;  padding-top:10px;  font-size:30px;}.aa_empty_image .drop_here {  display:block;  margin-top:20px;  margin-left:0px;  color:#bfbfbf;  text-align:center;}]]></Css>                      <Javascript><![CDATA[function(editableImage) {  aa_editableImageBase(editableImage,{    imageWrapper: editableImage.$el.firstOfClass("main_image_wrapper")  });  aa_lmcEditableImageUploadSupport(editableImage);}]]></Javascript>                    </Style>                    <PreviewWidth t="img.FixedWidth" Width="140"/>                    <PreviewHeight t="img.FixedHeight" Height="82"/>                  </FieldType>                  <FieldAspect t="field_aspect.RefreshDependentFields" FieldsIds="internal_fields" RefreshOn="every click" RefreshScope="screen"/>                  <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'image' "/>                </Field>                <Field t="fld.Field" FieldData="%!@video%" ID="video" Title="Video (youtube url)">                  <FieldType t="fld_type.EditableText">                    <Style t="ui.CustomCss" base="editable_text.JBartTextbox">                      <Style t="editable_text.JBartTextbox" Width="150px"/>                      <Css><![CDATA[#this {  width:345px;  border:1px solid #ccc;  padding:3px 5px;  border-radius:3px;  vertical-align:top;  font-size: 11px ;  margin:0;  width: 345px;  height: 25px;}#this:focus {  border-color: rgba(82, 168, 236, 0.8);  outline: 0;  outline: thin dotted 9;  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}#this.placeholder {  color: #8B8B8B;}]]></Css>                    </Style>                  </FieldType>                  <FieldAspect t="field_aspect.DescriptionForEmptyText" Description="Youtube url"/>                  <FieldAspect t="field_feature.HandleEvent">                    <Event t="field_feature.Update"/>                    <Action t="field.RefreshField" FireOnUpdate="" FieldID="paragraphs_table" Scope="screen"/>                  </FieldAspect>                  <FieldAspect t="lmc.ShowForParagraphType" Type="youtube"/>                </Field>                <Field t="fld.Field" ID="html" Title="Html">                  <FieldType t="fld_type.EditableText">                    <Style t="ui.CustomCss" base="editable_text.JBartMultiLine">                      <Style t="editable_text.JBartMultiLine" Width="356px" Height="39px"/>                      <Css><![CDATA[#this {  width:600px;  border:1px solid #ccc;  padding:3px 5px;  border-radius:3px;  vertical-align:top;  font:14px arial;  margin:0;  height:400px;}#this:focus {  border-color:rgba(82, 168, 236, 0.8);  outline:0;  outline:thin dotted 9;  box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}]]></Css>                    </Style>                  </FieldType>                  <FieldAspect t="lmc.ShowForParagraphType" Type="html"/>                  <FieldData t="xml.CDataRef" Element="%!html%"/>                </Field>                <Field t="fld.Field" ID="RichText" Title="RichText">                  <FieldType t="fld_type.EditableText">                    <Style t="editable_text.NicEdit" Buttons="save,bold,italic,underline,left,center,right,justify,ol,ul,fontSize,fontFamily,fontFormat,indent,outdent,image,upload,link,unlink,forecolor,bgcolor" Height="400" Width="600">&#xa;                          </Style>                  </FieldType>                  <FieldAspect t="lmc.ShowForParagraphType" Type="rich text"/>                  <FieldData t="xml.CDataRef" Element="%!html%"/>                  <FieldAspect t="field_feature.Css">                    <Css><![CDATA[#this { font-size: 16px; font-family: arial;   }#this>div { background-color: #ffffff; }]]></Css>                  </FieldAspect>                  <FieldAspect t="field_aspect.HidePropertyTitle"/>                </Field>                <Field t="control.Layout" ID="edit_paragraph_text" Title="Text">                  <Field t="fld.Field" FieldData="%!@text%" ID="paragrah_popup_text" Title="Text">                    <FieldType t="fld_type.EditableText">                      <Style t="ui.CustomCss" base="editable_text.JBartMultiLine">                        <Style t="editable_text.JBartMultiLine" Width="354px" Height="150px">&#xa;                            </Style>                        <Css><![CDATA[#this { border: 1px solid #BDC7D8; padding: 5px;   height: 350px; width: 600px;   box-sizing: border-box; font-size: 16px;   font-family: arial; }#this:focus { border-color: rgba(82, 168, 236, 0.8);   outline: 0; outline: thin dotted 9;   box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 8px rgba(82, 168, 236, 0.6); }.right_to_left #this { direction: rtl; }]]></Css>                      </Style>                    </FieldType>                  </Field>                  <Layout t="layout.Vertical" Spacing="4px"/>                  <FieldAspect t="field_aspect.Hidden">                    <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'text'"/>                  </FieldAspect>                  <Field t="fld.Field" FieldData="%!@welcome%" ID="welcome" Title="Is welcome text">                    <FieldType t="fld_type.EditableBoolean" HidePropertySheetTitle="">                      <Style t="editable_boolean.LMCCheckbox"/>                    </FieldType>                  </Field>                </Field>                <Field t="control.Layout" ID="edit_short_paragraph_text" Title="Short text">                  <Field t="fld.Field" FieldData="%!@text%" ID="paragrah_popup_text" Title="Text">                    <FieldType t="fld_type.EditableText">                      <Style t="editable_text.LMCTextbox" Width="369px">&#xa;                    </Style>                    </FieldType>                  </Field>                  <Layout t="layout.Vertical" Spacing="4px"/>                  <FieldAspect t="field_aspect.Hidden">                    <OnCondition t="field_aspect.CheckConditionForEveryItem" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'image' || %@type% == 'youtube' || %@type% == 'youtube'"/>                  </FieldAspect>                </Field>                <FieldAspect t="field_feature.CssClass" AddClassTo="content" ClassName="right_to_left" ConditionForClass="%$Room/style/general/@rtl%"/>                <FieldAspect t="field_feature.HandleEvent">                  <Event t="field_feature.ControlAttached"/>                  <Action t="uiaction.Focus" RunOn=".fld_paragrah_popup_text" OnFirstInput=""/>                </FieldAspect>                <Field t="control.Button" ID="_Button" Title="Add variable" HideTitle="true">                  <Style t="btn.LMCHyperlink"/>                  <FieldAspect t="field_aspect.HidePropertyTitle"/>                  <Action t="popup.OpenPopup">                    <Style t="popup.PicklistPopup"/>                    <Contents t="field.InnerPage" Title="Add variable">                      <Layout t="layout.Default"/>                      <Field t="field.ItemList" Title="items" ID="itemslist">                        <FieldAspect t="field_aspect.ItemListContainer">                          <Items t="itemlist.Items">                            <Items t="data.Pipeline">                              <Item t="xml.Xml">                                <xml>                                  <var id="{customer first name}"/>                                  <var id="{customer name}"/>                                  <var id="{customer phone}"/>                                  <var id="{customer company name}"/>                                  <var id="{agent name}"/>                                  <var id="{agent first name}"/>                                  <var id="{agent phone}"/>                                  <var id="{agent email}"/>                                  <var id="{agent phone link}"/>                                  <var id="{agent email link}"/>                                </xml>                              </Item>                              <Item value="%var%"/>                            </Items>                          </Items>                        </FieldAspect>                        <FieldAspect t="itemlist_aspect.ShowTextWhenNoItems"/>                        <View t="itemlist_style.Simple"/>                        <Field t="control.Button" ID="_Button" Title="variable" HideTitle="true">                          <Style t="gstudio.StudioButtonInToolarMenuPopup"/>                          <Action t="popup.CloseContainingPopup" ExitMode="">                            <DoOnExit t="action.RunActions">                              <Action t="uiaction.AddTextToTextboxCursor" Text="%@id%" Textbox="RichText"/>                              <Action t="uiaction.AddTextToTextboxCursor" Text="%@id%" Textbox="paragrah_popup_text"/>                            </DoOnExit>                          </Action>                          <ButtonText t="data.Pipeline">                            <Item value="%@id% - %$Value%"/>                            <Var name="Value" t="lmc.ReplaceVariableFields" Data="%@id%"/>                          </ButtonText>                        </Field>                      </Field>                    </Contents>                  </Action>                  <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render">                    <ShowCondition t="yesno.OR">                      <Item value="%@type% == 'text'"/>                      <Item value="%@type% == 'rich text'"/>                    </ShowCondition>                  </FieldAspect>                </Field>              </Field>              <Field t="control.Layout" ID="_Vertical_Layout" Title="Image Properties">                <Layout t="layout.Vertical" Spacing="0"/>                <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'image' &amp;&amp; %@image% != ''"/>                <FieldAspect t="field_aspect.HideTitle"/>                <Field t="control.PropertySheet" ID="_Property_Sheet" Title="Property Sheet">                  <Style t="properties.TitlesAboveFields" HorizontalSpacing="15px" VerticalSpacing="8px"/>                  <Field t="fld.Field" FieldData="%!@hpadding%" ID="hpadding" Title="Horizontal padding">                    <FieldType t="fld_type.EditableNumber">                      <Format t="number.Format" UseDynamicSymbol="" Min="0">                        <DisplayString t="number.ByExpression" Expression="%Symbol%%Value%"/>                      </Format>                      <Style t="editable_number.Slider" Width="150px"/>                    </FieldType>                  </Field>                  <Field t="fld.Field" FieldData="%!@vpadding%" ID="hpadding1" Title="Vertical padding">                    <FieldType t="fld_type.EditableNumber">                      <Format t="number.Format" UseDynamicSymbol="" Min="0">                        <DisplayString t="number.ByExpression" Expression="%Symbol%%Value%"/>                      </Format>                      <Style t="editable_number.Slider" Width="150px"/>                    </FieldType>                  </Field>                  <FieldAspect t="field_feature.Layout" dragProperty="#this margin">                    <Css><![CDATA[#this { margin-top: 22px; margin-left: 0; }#wrapper { }]]></Css>                  </FieldAspect>                </Field>                <Field t="control.PropertySheet" ID="_Property_Sheet1" Title="Property Sheet1">                  <Style t="properties.TitlesAboveFields" HorizontalSpacing="15px" VerticalSpacing="8px"/>                  <Field t="fld.Field" FieldData="%!@imageBoxHeight%" ID="hpadding2" Title="Image height">                    <FieldType t="fld_type.EditableNumber">                      <Format t="number.Format" UseDynamicSymbol="" Min="0">                        <DisplayString t="number.ByExpression" Expression="%Symbol%%Value%"/>                      </Format>                      <Style t="editable_number.Slider" Width="150px"/>                    </FieldType>                  </Field>                  <Field t="fld.Field" FieldData="%!@background%" ID="background" Title="Background color">                    <FieldType t="fld_type.EditableColor">                      <Style t="editable_color.JSColor" Width="150px"/>                    </FieldType>                  </Field>                </Field>              </Field>              <Field t="control.Layout" ID="_Vertical_Layout" Title="Edit property sheet">                <Layout t="layout.Vertical" Spacing="0"/>                <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'property sheet'"/>                <Field t="control.Page" ID="_Link_to_page5" Title="Link to page">                  <Page t="lmc.LMCEditPropertySheet" InMainMenu="" IsMobile=""/>                </Field>                <Field t="control.PropertySheet" ID="_Property_Sheet" Title="Options">                  <Style t="ui.CustomCss" base="properties.LMCPropertySheet">                    <Style t="properties.LMCPropertySheet"/>                    <Css><![CDATA[#this>.aa_property>.aa_property_title { width: 88px;   overflow: hidden;   text-overflow: ellipsis;   vertical-align: top;   margin-top: 8px;   font: 16px arial;   color: #8E8E8E; }#this { }#this>.aa_property { margin-bottom: 20px; }#this>.aa_property:last-child { margin-bottom: 0px; }#this>.aa_property.aa_mandatory>.aa_property_title {   font-weight: bold; }#this>.aa_property>div { display: inline-block; }#this>.aa_property.aa_hiding_title>.aa_property_title {   display: none; }#this>.aa_property.aa_hiding_title>.aa_property_content {   display: inline-block; }.lmc_agent_mobile #this .aa_property_content {   display: block; }.aa_error_message { display: block; color: #C24343;   padding-top: 3px; }#this>.aa_property>.aa_property_content>.aa_property_description {   padding-top: 5px;   color: #8C8C8C;   font-style: italic;   font-size: 11px;   white-space: normal; }]]></Css>                  </Style>                  <Field t="fld.Field" FieldData="%!@aspects%" ID="aspects" Title="Options">                    <FieldType t="fld_type.MultiplePicklist">                      <Options t="editable_picklist.OptionsByCommas" Options="show only in price quote"/>                      <Style t="multiple_picklist.LMCMultipicklistInDialog"/>                    </FieldType>                  </Field>                  <FieldAspect t="field_feature.Layout" dragProperty="#this margin">                    <Css><![CDATA[#this { margin-top: 25px; margin-left: 0; }]]></Css>                  </FieldAspect>                </Field>              </Field>              <Field t="control.Layout" ID="_Vertical_Layout5" Title="Edit Grid">                <Layout t="layout.Vertical" Spacing="0"/>                <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'grid'"/>                <Field t="control.Page" ID="_Link_to_page5" Title="Link to page">                  <Page t="lmc.LMCEditGrid" IsMobile=""/>                </Field>              </Field>              <Field t="control.Layout" ID="edit_summary_table" Title="Price quote">                <Layout t="layout.Vertical" Spacing="0"/>                <FieldAspect t="lmc.ShowForParagraphType" Type="price quote"/>                <Field t="control.Label" ID="_Label" Title="Label" Text="The price quote table is automatically built from the items in the rooms. &#xa;It unites all property sheet paragraphs with 'show only in price quote'">                  <Style t="ui.CustomCss" base="uitext.PlainText">                    <Style t="uitext.PlainText"/>                    <Css><![CDATA[#this { margin-bottom: 8px; }]]></Css>                  </Style>                </Field>                <Field t="fld.Field" FieldData="%!@manualSummary%" ID="manualSummary" Title="Edit the quote manually">                  <FieldType t="fld_type.EditableBoolean" HidePropertySheetTitle="">                    <Style t="editable_boolean.Checkbox" HideTitle="true"/>                  </FieldType>                  <FieldAspect t="field_feature.Css">                    <Css><![CDATA[#this { margin-bottom: 20px; }#wrapper { }]]></Css>                  </FieldAspect>                  <FieldAspect t="field_feature.HandleEvent">                    <Event t="field_feature.Update"/>                    <Action t="action.RunActions">                      <Action t="action.ActionByCondition" Condition="%% == 'true'">                        <Action t="xml.ChangeXml" Xml="%..%">                          <Change t="xml.DeleteChildren" ParentElement="%%"/>                          <Change t="xml.AddChildren" CloneChildren="true">                            <Children t="data.Pipeline" >                              <Item value="%$Room///paragraph[@type='property sheet']%" />                              <Item t="yesno.PassesFilter">                                <Filter t="data.IsInCommaSeparatedList" Item="%@aspects%" List="show only in price quote"/>                              </Item>                              <Item value="%property%"/>                            </Children>                          </Change>                        </Action>                      </Action>                      <Action t="field.RefreshField" FireOnUpdate="" FieldID="edit_summary_table" Scope="screen"/>                    </Action>                  </FieldAspect>                </Field>                <Field t="control.Layout" ID="_Vertical_Layout" Title="Manual">                  <Layout t="layout.Vertical" Spacing="0"/>                  <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@manualSummary% == 'true'"/>                  <Field t="control.Page" ID="_Link_to_page5" Title="Link to page">                    <Page t="lmc.LMCEditPropertySheet"/>                  </Field>                </Field>                <Field t="control.Layout" ID="_Vertical_Layout" Title="Automatic">                  <Layout t="layout.Vertical" Spacing="13px"/>                  <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@manualSummary% != 'true'"/>                  <Field t="control.Layout" ID="_Group" Title="Preview">                    <Field t="control.Page" ID="_Link_to_page5" Title="Link to page">                      <Page t="lmc.LMCRenderPriceQuote"/>                    </Field>                    <Layout t="layout.Default"/>                    <FieldAspect t="lmc.CssFromSettings" CssID="paragraph"/>                    <FieldAspect t="field_feature.CssClass" AddClassTo="content" ClassName="right_to_left" ConditionForClass="%$Room/style/general/@rtl%"/>                  </Field>                </Field>              </Field>              <Field t="control.Layout" ID="_Vertical_Layout6" Title="Call me button">                <Layout t="layout.Vertical" Spacing="0"/>                <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'call me button'"/>                <FieldAspect t="field_aspect.HideTitle"/>                <Field t="control.PropertySheet" ID="_Property_Sheet" Title="Property Sheet">                  <Style t="ui.CustomCss" base="properties.TitlesAboveFieldsVertical">                    <Style t="properties.TitlesAboveFieldsVertical"/>                    <Css><![CDATA[#this>.aa_property {} #this>.aa_property>.aa_property_title {  padding-bottom:3px;color: #666;font-size: 14px;  color:#666;  font-family:arial;}#this>.aa_property>.aa_property_content {  vertical-align:top;  padding-bottom:22px;}#this {}]]></Css>                  </Style>                  <Field t="fld.Field" FieldData="%!@title%" ID="hpadding" Title="Title">                    <FieldType t="fld_type.EditableText">                      <Style t="editable_text.LMCTextbox" Width="353px"/>                    </FieldType>                    <FieldAspect t="field_aspect.DefaultValue" Value="Contact me to make the order"/>                  </Field>                  <Field t="fld.Field" FieldData="%!@successText%" ID="hpadding2" Title="Success Text">                    <FieldType t="fld_type.EditableText">                      <Style t="editable_text.LMCTextbox" Width="353px"/>                    </FieldType>                    <FieldAspect t="field_aspect.DefaultValue" Value="Your request has been received"/>                  </Field>                </Field>              </Field>            </Field>            <Field t="control.Layout" ID="_Group" Title="Buttons">              <Field t="control.Button" ID="_Button87" Title="Close">                <Style t="btn.LMCButton" Width="140px"/>                <Action t="popup.CloseContainingPopup" ExitMode=""/>              </Field>              <Layout t="layout.DialogButtonsRightAlign"/>            </Field>          </Contents>          <Feature t="popup_feature.RunOnClose" CloseType="">            <Action t="operation.RunActions">              <Action t="field.RefreshField" FireOnUpdate="" FieldID="Paragraph" Scope="screen"/>            </Action>          </Feature>        </Action>      </Action>    </FieldAspect>    <Field t="control.CustomControl" ID="_CustomControl" Title="Table">      <Control t="ui.CustomStyle">        <Html><![CDATA[<table><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr></table>]]></Html>        <Css><![CDATA[#this td {  border:1px solid #ccc;  width:10px;  height:5px;}#this {  margin-left:20px;  margin-top:2px;}]]></Css>        <Javascript><![CDATA[function render(object) {/* Use object.el or object.$el to change the element */  }]]></Javascript>      </Control>      <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'property sheet' || %@type% == 'price quote' || %@type% == 'grid'"/>    </Field>    <Field t="control.Button" ID="DropArea" Title="Drop Area" HideTitle="true" Tooltip="">      <Style t="ui.CustomStyle" base="btn.ImageOnlyButton">        <Html><![CDATA[<div class="drap_and_input">  <div class="image_drop_area">    <div class="aa_drop_sink_mask">Drop Here ...</div>    <div class="drop_here"></div>    <div class="plus"></div>  </div>  <div style="clear:both" /></div>]]></Html>        <Css><![CDATA[#this {  position:absolute;  top:0px;  left:0px;}.image_drop_area {  float:left;  margin:0 5px 5px 0;  cursor:pointer;  position:relative;  width:81px;  height:60px;}.image_drop_area:active {  opacity:0.8;}.drop_here {  color:#bfbfbf;  margin-top:5px;  text-align:center;}.aa_drop_sink_mask {  background:#F6F6F6;  box-sizing:border-box;  z-index:99;  display:none;  position:absolute;  border-width:4px;  border-style:dashed;  border-color:#43ff2e;  font-size:14px;  font-family:'Comic Sans MS', cursive;  text-align:center;}]]></Css>        <Javascript><![CDATA[function render(button) { aa_lmc_drop_button(button); }]]></Javascript>      </Style>      <Image t="image.Image" Url="_jbartImages_/LetMeSee/new_paragraph.png" Width="" Height="">        <ImageProportions t="image.KeepProportions" FillImage="true" CenterImage="true"/>      </Image>      <Action t="action.RunActions">        <Action t="xml.ChangeXml">          <Change t="xml.SetAttribute" AttributeName="image" Value="%$AsParagraph/@image%"/>          <Change t="xml.SetAttribute" AttributeName="type" Value="%$AsParagraph/@type%"/>          <Change t="xml.SetAttribute" AttributeName="imageWidth" Value="%$AsParagraph/@imageWidth%" RemoveEmptyAttribute="true"/>          <Change t="xml.SetAttribute" AttributeName="imageHeight" Value="%$AsParagraph/@imageHeight%" RemoveEmptyAttribute="true"/>          <Change t="xml.Delete" Element="%html%"/>          <Change t="xml.AddChildren" Children="%$AsParagraph/html%" CloneChildren="true"/>        </Action>        <Action t="field.RefreshField" FieldID="Paragraph" Scope="sibling"/>        <Var t="lmc.DraggedHtmlAsParagraph" DraggedHtml="%$DraggedHtml%" name="AsParagraph"/>      </Action>    </Field>    <Field t="field.Image" ID="_Image" Title="Call me">      <Image t="image.ImageInSprite" Url="_jbartImages_/LetMeSee/lmc_sprite-25.png?v=1108" Size="25,25" PositionInSprite="175,75"/>      <Style t="image.PlainImage"/>      <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'call me button'"/>      <FieldAspect t="field_feature.Layout" dragProperty="#this margin">        <Css><![CDATA[#this {  margin-top:19px;  margin-left:26px;  width:25px;}]]></Css>      </FieldAspect>    </Field>    <Field t="field.Image" ID="_Image1" Title="Print">      <Image t="image.ImageInSprite" Url="_jbartImages_/LetMeSee/lmc_sprite-25.png?v=1108" Size="25,25" PositionInSprite="150,75"/>      <Style t="image.PlainImage"/>      <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%@type% == 'print button'"/>      <FieldAspect t="field_feature.Layout" dragProperty="#this margin">        <Css><![CDATA[#this {  margin-top:19px;  margin-left:26px;  width:25px;}]]></Css>      </FieldAspect>    </Field>  </xtml></Component><Component id="LMCEditPropertySheet" type="jbart.MyWidgetPage">  <Param name="IsMobile" type="data.Boolean"/>  <xtml t="field.ItemListContainer" ID="PropetySheetEditor" Title="">    <Items t="itemlist.XmlItems" ParentXml="%%" Tag="property"/>    <Field t="control.Layout" ID="_Group" Title="Group">      <Field t="field.ItemList" Title="Property Sheet" ID="items_table">        <View t="ui.CustomStyle" base="itemlist_style.JBartTable">          <Html><![CDATA[<div><table>  <tbody>  <tr class="aa_item">    <td class="aa_cell" />  </tr>  </tbody></table></div>]]></Html>          <Css><![CDATA[]]></Css>          <Javascript><![CDATA[function(itemlist) {    aa_itemlist_as_table(itemlist, { showHeaders: true, titleClass: 'aa_table_title' } );}]]></Javascript>        </View>        <Field t="fld.Field" FieldData="%!@name%" ID="value1" Title="Name">          <FieldType t="fld_type.EditableText">            <Style t="ui.CustomCss" base="editable_text.LMCTextboxInTable">              <Style t="editable_text.LMCTextboxInTable"/>              <Css><![CDATA[#this {  font-size:14px;  padding:0 6px;  height:30px;  box-sizing:border-box;  width:100\%;  border:1px solid #ccc;  background:transparent;}#this:hover {  background:rgba(255, 255, 255, 0.8);}#this:focus {  background:#fff;  border:1px solid #C8CCCF;}#this:focus {  border-color:rgba(82, 168, 236, 0.8);  outline:0;  outline:thin dotted 9;  box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}#this.placeholder {  color:#8B8B8B;}#this.aa_error {  background:#fbebeb;  border:1px solid #feb2b2;  color:#ec643d;}]]></Css>            </Style>          </FieldType>          <FieldAspect t="field_feature.HandleEvent">            <Event t="field_feature.ControlAttached"/>            <Action t="operation.RunActionInJavascript">              <Code><![CDATA[function run(data,context) {  var elem = context.vars.ControlElement[0];  var item = context.vars._Item[0];  if (item.getAttribute("section") == "true") {    $(elem).parent().attr("colspan","2");    $(elem).parent().next().remove();    $(elem).parent().addClass("paragraph_property_section");  }}]]></Code>            </Action>          </FieldAspect>          <FieldAspect t="field_feature.Css">            <Css><![CDATA[.clickable_text {  font-weight:bold;}]]></Css>          </FieldAspect>        </Field>        <Field t="fld.Field" FieldData="%!@value%" ID="value" Title="Value">          <FieldType t="fld_type.EditableText">            <Style t="ui.CustomCss" base="editable_text.LMCTextboxInTable">              <Style t="editable_text.LMCTextboxInTable"/>              <Css><![CDATA[#this {  font-size:14px;  padding:0 6px;  height:30px;  box-sizing:border-box;  width:100\%;  border:1px solid #ccc;  background:transparent;}#this:hover {  background:rgba(255, 255, 255, 0.8);}#this:focus {  background:#fff;  border:1px solid #C8CCCF;}#this:focus {  border-color:rgba(82, 168, 236, 0.8);  outline:0;  outline:thin dotted 9;  box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}#this.placeholder {  color:#8B8B8B;}#this.aa_error {  background:#fbebeb;  border:1px solid #feb2b2;  color:#ec643d;}]]></Css>            </Style>          </FieldType>        </Field>        <FieldAspect t="field_feature.CssClass" AddClassTo="content" ClassName="paragraph_property_sheet"/>        <FieldAspect t="field_feature.Css">          <Css><![CDATA[.right_to_left #this { direction: rtl; }]]></Css>        </FieldAspect>        <FieldAspect t="itemlist_aspect.ItemSelection" KeyboardSupport="true" AlwaysOneSelected="false" MouseSupport="mouse click">          <Css><![CDATA[td {  background:#D9E8FB !important;}]]></Css>        </FieldAspect>        <FieldAspect t="itemlist_aspect.DragAndDropItems">          <CssForDraggedElement><![CDATA[{ opacity: 0.9; }]]></CssForDraggedElement>          <CssForDraggedSpace><![CDATA[{ }]]></CssForDraggedSpace>        </FieldAspect>        <FieldAspect t="itemlist_aspect.UpdateOnAddOrDeleteItem"/>      </Field>      <Layout t="layout.Default"/>      <FieldAspect t="lmc.CssFromSettings" CssID="paragraph"/>      <FieldAspect t="field_feature.CssClass" AddClassTo="content" ClassName="right_to_left" ConditionForClass="%$RoomXml/style/general/@rtl%"/>    </Field>    <Field t="control.Layout" ID="properties_cntr_Toolbar" Title="Toolbar">      <Layout t="ui.CustomStyle" base="layout.Vertical">        <Html><![CDATA[<div>  <div>   <div class="field"/>  </div>  <div style="clear:both" /></div>]]></Html>        <Css><![CDATA[#this {  clear:both;}#this >div>.field {  float:left;}#this >div>.field:not(:last-child) {  margin-right:20px;  margin-bottom:10px;}]]></Css>        <Javascript><![CDATA[function(layout) {  aa_layout(layout);}]]></Javascript>      </Layout>      <Field t="control.Button" ID="properties_cntr_Add" Title="+ Add property">        <Style t="btn.LMCHyperlink"/>        <Image t="img.Image" Url="_jbartImages_/add1616.gif" OriginalWidth="16" OriginalHeight="16">          <AdjustSize t="img.Center" RightToLeft=""/>        </Image>        <Action t="itemlist_action.AddItemToItemList">          <Item t="xml.ByTag" Tag="property"/>          <Location t="itemlist_action.AsLastItem"/>        </Action>      </Field>      <Field t="control.Button" ID="properties_cntr_Add2" Title="+ Add section">        <Style t="btn.LMCHyperlink"/>        <Image t="img.Image" Url="_jbartImages_/add1616.gif" OriginalWidth="16" OriginalHeight="16">          <AdjustSize t="img.Center" RightToLeft=""/>        </Image>        <Action t="itemlist_action.AddItemToItemList">          <Item t="xml.ByTag" Tag="property">            <Change t="xml.SetAttribute" AttributeName="section" Value="true"/>          </Item>          <Location t="itemlist_action.AsLastItem"/>        </Action>      </Field>      <Field t="control.Button" ID="properties_cntr_Add3" Title="Delete property" HideTitle="true">        <Style t="btn.LMCHyperlink"/>        <Image t="img.Image" Url="_jbartImages_/add1616.gif" OriginalWidth="16" OriginalHeight="16">          <AdjustSize t="img.Center" RightToLeft=""/>        </Image>        <Action t="itemlist_action.DeleteItem">          <Item t="itemlist_item.SelectedItem"/>        </Action>      </Field>      <Field t="control.Button" ID="properties_cntr_Add1" Title="Import / Export" HideTitle="true">        <Style t="btn.LMCHyperlink"/>        <Action t="popup.OpenPopup" PopupTitle="Import Property Sheet">          <Style t="popup.LMCDialog" LightOpacity=""/>          <Contents t="field.InnerPage">            <Layout t="layout.Default"/>            <Field t="control.Layout" ID="_Group" Title="Group">              <Field t="control.Label" ID="_Label" Title="Label" Text="Paste text from Spreadsheet or Html here:&#xa;">                <Style t="uitext.PlainText"/>              </Field>              <Field t="fld.Field" FieldData="%$Import/!@text%" ID="text" Title="Text">                <FieldType t="fld_type.EditableText">                  <Style t="ui.CustomCss" base="editable_text.JBartMultiLine">                    <Style t="editable_text.JBartMultiLine" Width="466px" Height="154px"/>                    <Css><![CDATA[#this {  border: 1px solid #BDC7D8;  font-size: 11px;  padding: 3px;  height: 154px;  width: 466px;  background: #fff;  box-sizing:border-box;}#this:focus {border-color: rgba(82, 168, 236, 0.8);outline: 0;outline: thin dotted 9;box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);}]]></Css>                  </Style>                </FieldType>              </Field>              <Layout t="layout.Vertical" Spacing="10px"/>              <Field t="control.Label" ID="_Label" Title="Label" Text="Notes:&#xa;Column #1 - property name&#xa;Column #2 - property value&#xa;For PDF tables, convert them first to Html">                <Style t="uitext.PlainText"/>              </Field>              <Field t="control.Layout" ID="_Group" Title="Buttons">                <Field t="control.Button" ID="_Button" Title="OK">                  <Style t="btn.LMCButton" Width="140px"/>                  <Action t="operation.RunActions">                    <Action t="xml.ChangeXml">                      <Change t="xml.Delete" Element="%property%"/>                    </Action>                    <Action t="xml.AddXmlChildren" CloneChildren="true" AddAsFirst="" Parent="%%">                      <Children t="data.Pipeline">                        <Item t="text.SplitLines" Text="%$Import/@text%"/>                        <Item t="xml.CreateXml" Tag="property">                          <Attribute Name="name">                            <Value t="data.Pipeline">                              <Item t="text.Split" Part="First">                                <Separator t="text.TabCharacter"/>                              </Item>                              <Item t="text.RemovePrefix" Prefix="*"/>                            </Value>                          </Attribute>                          <Attribute Name="value">                            <Value t="text.Split" Part="Second">                              <Separator t="text.TabCharacter"/>                            </Value>                          </Attribute>                          <Attribute Name="section">                            <Value t="data.Pipeline">                              <Item value="true"/>                              <Condition t="text.StartsWith" With="*"/>                            </Value>                          </Attribute>                        </Item>                        <Item t="yesno.PassesFilter">                          <Filter t="yesno.NotEmpty" Value="%@name%"/>                        </Item>                      </Children>                    </Action>                    <Action t="field.RefreshField" FireOnUpdate="" FieldID="PropetySheetEditor" Scope="screen"/>                    <Action t="popup.CloseContainingPopup" ExitMode=""/>                  </Action>                </Field>                <Layout t="layout.DialogButtonsRightAlign"/>                <Field t="control.Button" ID="_Button" Title="Cancel">                  <Style t="btn.LMCGreyButton" Width="140px"/>                  <Action t="popup.CloseContainingPopup" ExitMode=""/>                </Field>                <FieldAspect t="field_feature.Layout" dragProperty="#this margin">                  <Css><![CDATA[#this { }#wrapper { margin-top: 7px; }]]></Css>                </FieldAspect>              </Field>              <FieldAspect t="field_aspect.Variable" VarName="Import">                <Value t="xml.CreateXml">                  <Attribute Name="text">                    <Value t="data.Pipeline">                      <Item value="%property%"/>                      <Item t="text.Concat">                        <Item value="*" Condition="%@section%"/>                        <Item value="%@name%"/>                        <Item t="text.TabCharacter"/>                        <Item value="%@value%"/>                      </Item>                      <Aggregator t="text.Concat">                        <Separator t="text.NewLine"/>                      </Aggregator>                    </Value>                  </Attribute>                </Value>              </FieldAspect>            </Field>          </Contents>        </Action>        <FieldAspect t="field_feature.Hidden" DataForCondition="Item data" WhenHidden="Do not render" ShowCondition="%$IsMobile% != 'true'"/>      </Field>      <FieldAspect t="field_feature.Layout" dragProperty="#this margin">        <Css><![CDATA[#this { margin-top: 15px; margin-left: 0; }#wrapper { }]]></Css>      </FieldAspect>    </Field>    <Layout t="layout.Default"/>    <FieldAspect t="field_feature.Css">      <Css><![CDATA[#this {  height:350px;  overflow-y:auto;  padding-right:30px;}.mobile #this {  height:auto;  overflow-y:visible;}]]></Css>    </FieldAspect>  </xtml>  <Param name="RoomXml">    <Default value="%$Room%"/>  </Param></Component><Component id="LMCEditGrid" type="jbart.MyWidgetPage">  <Param name="IsMobile" type="data.Boolean"/>  <xtml t="field.ItemListContainer" ID="GridEditor" Title="">    <Items t="itemlist.XmlItems" ParentXml="%%" Tag="row"/>    <Layout t="layout.Default"/>    <FieldAspect t="field_feature.Css">      <Css><![CDATA[#this {  height:350px;  overflow-y:auto;  padding-right:30px;}.mobile #this {  height:auto;  overflow-y:visible;}]]></Css>    </FieldAspect>    <Field t="control.PropertySheet" ID="_Property_Sheet" Title="Property Sheet">      <Style t="ui.CustomCss" base="properties.TitlesAboveFields">        <Style t="properties.TitlesAboveFields" HorizontalSpacing="" VerticalSpacing="8px"/>        <Css><![CDATA[#this>.aa_property>.aa_property_title {  padding-bottom:3px;  color:#666;  font-weight:bold;  font-size:11px;  font-family:"lucida grande", tahoma, verdana, arial, sans-serif;}#this>.aa_property>.aa_property_content {  vertical-align:top;  padding-bottom:8px;}#this {}]]></Css>      </Style>      <Field t="control.Layout" ID="_Group" Title="Grid Content">        <Field t="field.ItemList" ID="_ItemList" Title="ItemList">          <View t="ui.CustomStyle" base="itemlist_style.JBartTableNoHeader">            <Html><![CDATA[<div><table>  <tbody>  <tr class="aa_item">    <td class="aa_cell" />  </tr>  </tbody></table></div>]]></Html>            <Css><![CDATA[#this .aa_selected td {  background:#D9E8FB;}#this td *:focus {  background:white;}]]></Css>            <Javascript><![CDATA[function(itemlist) {    aa_itemlist_as_table(itemlist, { showHeaders: false } );}]]></Javascript>          </View>          <Field t="field.DynamicFields" ID="_DynamicFields" Title="DynamicFields">            <FieldItems t="data.Pipeline">              <Item t="data.CreateNumbers" From="1" To="%@cols%"/>            </FieldItems>            <Field t="fld.Field" ID="_Field" Title="Field" FieldData="%!@col{$_FieldItem}%">              <FieldType t="fld_type.EditableText">                <Style t="ui.CustomCss" base="editable_text.WhiteTextbox">                  <Style t="editable_text.WhiteTextbox" Width="75px"/>                  <Css><![CDATA[#this {  color:#666666;  font-size:12px;  width:75px;  height:16px;  padding:0px;  border:0;  text-align:center;  background:transparent;}]]></Css>                </Style>              </FieldType>            </Field>          </Field>          <FieldAspect t="itemlist_aspect.UpdateOnAddOrDeleteItem"/>          <FieldAspect t="itemlist_aspect.ItemSelection" KeyboardSupport="true" AlwaysOneSelected="true" MouseSupport="mouse click">            <Css><![CDATA[{ border1:solid; }]]></Css>          </FieldAspect>          <FieldAspect t="field_feature.CssClass" AddClassTo="content" ClassName="paragraph_grid"/>          <FieldAspect t="field_feature.Css">            <Css><![CDATA[.right_to_left #this { direction: rtl; }]]></Css>          </FieldAspect>        </Field>        <Layout t="layout.Default"/>        <FieldAspect t="lmc.CssFromSettings" CssID="paragraph"/>        <FieldAspect t="field_feature.CssClass" AddClassTo="content" ClassName="right_to_left" ConditionForClass="%$RoomXml/style/general/@rtl%"/>        <Field t="control.Layout" ID="properties_cntr_Toolbar" Title="Toolbar">          <Layout t="ui.CustomStyle" base="layout.Vertical">            <Html><![CDATA[<div>  <div>   <div class="field"/>  </div>  <div style="clear:both" /></div>]]></Html>            <Css><![CDATA[#this {  clear:both;}#this >div>.field {  float:left;}#this >div>.field:not(:last-child) {  margin-right:20px;  margin-bottom:10px;}]]></Css>            <Javascript><![CDATA[function(layout) {  aa_layout(layout);}]]></Javascript>          </Layout>          <Field t="control.Button" ID="properties_cntr_Add" Title="+ Add Row">            <Style t="btn.LMCHyperlink"/>            <Image t="img.Image" Url="_jbartImages_/add1616.gif" OriginalWidth="16" OriginalHeight="16">              <AdjustSize t="img.Center" RightToLeft=""/>            </Image>            <Action t="operation.RunActions">              <Action t="itemlist_action.AddItemToItemList">                <Item t="xml.ByTag" Tag="row"/>                <Location t="itemlist_action.AsLastItem"/>              </Action>              <Action t="action.RunActions">                <Condition t="yesno.IsEmpty" Value="%@cols%"/>                <Action t="action.WriteValue" To="%!@cols%" Value="2"/>                <Action t="field.RefreshField" FieldID="GridEditor"/>              </Action>            </Action>          </Field>          <Field t="control.Button" ID="properties_cntr_Add4" Title="+ Add Column">            <Style t="btn.LMCHyperlink"/>            <Image t="img.Image" Url="_jbartImages_/add1616.gif" OriginalWidth="16" OriginalHeight="16">              <AdjustSize t="img.Center" RightToLeft=""/>            </Image>            <Action t="operation.RunActions">              <Action t="action.WriteValue" To="%!@cols%">                <Value t="data.Math" Expression="%@cols%+1"/>              </Action>              <Action t="field.RefreshField" FireOnUpdate="" FieldID="GridEditor" Scope="screen"/>            </Action>          </Field>          <Field t="control.Button" ID="properties_cntr_Add3" Title="- Delete Row" HideTitle="true">            <Style t="btn.LMCHyperlink"/>            <Image t="img.Image" Url="_jbartImages_/add1616.gif" OriginalWidth="16" OriginalHeight="16">              <AdjustSize t="img.Center" RightToLeft=""/>            </Image>            <Action t="itemlist_action.DeleteItem">              <Item t="itemlist_item.SelectedItem"/>            </Action>          </Field>          <Field t="control.Button" ID="properties_cntr_Add5" Title="- Delete Last Column">            <Style t="btn.LMCHyperlink"/>            <Image t="img.Image" Url="_jbartImages_/add1616.gif" OriginalWidth="16" OriginalHeight="16">              <AdjustSize t="img.Center" RightToLeft=""/>            </Image>            <Action t="operation.RunActions">              <Action t="action.WriteValue" To="%!@cols%">                <Value t="data.Pipeline">                  <Item t="data.Math" Expression="%@cols%-1"/>                  <Item t="data.IfThenElse" Then="1" Else="%%">                    <If t="yesno.GreaterThan" Item="1" Than="%%"/>                  </Item>                </Value>              </Action>              <Action t="field.RefreshField" FireOnUpdate="" FieldID="GridEditor" Scope="screen"/>            </Action>          </Field>          <FieldAspect t="field_feature.Layout" dragProperty="#this margin">            <Css><![CDATA[#this { margin-top: 15px; margin-left: 0; }#wrapper { }]]></Css>          </FieldAspect>        </Field>        <FieldAspect t="field_feature.CssClass" AddClassTo="content" ConditionForClass="%@highlightFirstColumn% == 'true'" ClassName="highlight_first_column"/>        <FieldAspect t="field_feature.CssClass" AddClassTo="content" ConditionForClass="%@highlightFirstRow% == 'true'" ClassName="highlight_first_row"/>        <FieldAspect t="field_feature.CssClass" AddClassTo="content" ClassName="paragraph_grid"/>      </Field>      <Field t="fld.Field" FieldData="%!@text%" ID="paragrah_popup_text" Title="Title">        <FieldType t="fld_type.EditableText">          <Style t="editable_text.LMCTextbox" Width="369px">&#xa;                    </Style>        </FieldType>      </Field>      <Field t="fld.Field" FieldData="%!@highlightFirstRow%" ID="paragrah_popup_text1" Title="First row as title">        <FieldType t="fld_type.EditableBoolean" HidePropertySheetTitle="true">          <Style t="editable_boolean.Checkbox" HideTitle="true"/>        </FieldType>      </Field>      <Field t="fld.Field" FieldData="%!@highlightFirstColumn%" ID="paragrah_popup_text2" Title="First column as title">        <FieldType t="fld_type.EditableBoolean" HidePropertySheetTitle="true">          <Style t="editable_boolean.Checkbox" HideTitle="true"/>        </FieldType>      </Field>    </Field>    <Field t="control.Label" ID="_Label" Title="warning" Text="Note: Wide tables do not appear properly in iPhone due to Safari bug.">      <Style t="uitext.YellowBox"/>      <FieldAspect t="field_feature.Layout" dragProperty="#this margin">        <Css><![CDATA[#this { margin-top: 30px; margin-left: 0; }]]></Css>      </FieldAspect>    </Field>  </xtml>  <Param name="RoomXml">    <Default value="%$Room%"/>  </Param></Component><Component id="DraggedHtmlAsParagraph" type="data.Data">  <Param name="DraggedHtml" />  <Param name="AddUniqueID" type="data.Boolean" Default="true" />  <xtml t="data.Pipeline">    <Var name="Type" t="data.Switch" Default="html">      <Case Then="image">        <IfCondition t="text.StartsWith" Text="%$DraggedHtml%" With="&lt;img"/>      </Case>      <Case Then="text">        <IfCondition t="yesno.IsEmpty" Value="%$DraggedHtml%"/>      </Case>    </Var>    <Var name="Image" t="data.IfThenElse">      <If t="text.ItemsEqual" Item1="%$Type%" Item2="image"/>      <Then t="text.Extract" From="%$DraggedHtml%" EndMarker="&quot;">        <StartMarker value="src=&quot;"/>      </Then>    </Var>    <Var name="Html" t="data.IfThenElse" Then="%$DraggedHtml%">      <If t="text.ItemsEqual" Item1="%$Type%" Item2="html"/>    </Var>    <Item t="data.Same"/>    <Item t="xml.Xml" DynamicContent="true">      <paragraph type="%$Type%" text="" image="%$Image%"/>    </Item>    <Item t="xml.WithChanges">      <Change t="lmc.AddUniqueID" Condition="%$AddUniqueID%"/>      <Change t="lmc.FixParagraphImageDimensions"/>      <Change t="xml.WriteValue" Value="%$Html%">        <To t="xml.CDataRef" Element="%!html%"/>        <Condition t="yesno.NotEmpty" Value="%$Html%"/>      </Change>    </Item>  </xtml></Component></xtml>